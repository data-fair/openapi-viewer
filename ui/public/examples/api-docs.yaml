openapi: 3.1.0
info:
  title: API principale
  description: |

    Cette documentation interactive à destination des développeurs permet de gérer les ressources de ce service de publication de données.

    Notez que l'API réelle est plus riche, chaque jeu de données et chaque service distant disposant de sa propre API documentée séparément.

    Pour utiliser cette API dans un programme vous aurez besoin d'une clé que vous pouvez créer dans vos paramètres personnels ou dans les paramètres d'une organisation dont vous êtes administrateur.

    Pour des exemples simples de publication de données vous pouvez consulter la <a href="https://data-fair.github.io/4/interoperate/api" target="blank">documentation sur ce sujet</a>.
  version: 4.37.1
  x-api-id: data-fair
  termsOfService: https://koumoul.com/pages/conditions-generales-dutilisation
  contact:
    name: Koumoul
    url: https://koumoul.com
    email: support@koumoul.com
servers:
  - url: https://staging-koumoul.com/data-fair/api/v1
    description: Instance DataFair - staging-koumoul.com
components:
  schemas:
    dataset:
      title: Dataset
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          description: Globally unique identifier of the dataset
        slug:
          type: string
          description: Identifier of the dataset, usually a slug for URL readability (unique inside the tenant)
        href:
          type: string
          description: Readonly field. The URL where this resource can be fetched
        page:
          type: string
          description: Readonly field. The URL where this resource can be viewed in the UI
        title:
          type: string
          description: Short title of the dataset
        description:
          type: string
          description: Detailed description of the dataset
        image:
          type: string
          description: URL d'une image, illustration du jeu de données
        spatial:
          type: string
          description: spatial coverage
        temporal:
          type: object
          description: temporal coverage
          properties:
            start:
              type: string
              format: date
            end:
              type: string
              format: date
        keywords:
          type: array
          description: keywords
          items:
            type: string
        frequency:
          type: string
          description: update frequency
          enum:
            - ''
            - triennial
            - biennial
            - annual
            - semiannual
            - threeTimesAYear
            - quarterly
            - bimonthly
            - monthly
            - semimonthly
            - biweekly
            - threeTimesAMonth
            - weekly
            - semiweekly
            - threeTimesAWeek
            - daily
            - continuous
            - irregular
        file:
          type: object
          additionalProperties: false
          required:
            - name
            - size
            - encoding
            - mimetype
          properties:
            name:
              type: string
              description: Name of the file that was used to create or update this dataset
            size:
              type: number
              description: Size of the file on disk
            encoding:
              type: string
              description: Encoding of the file
            mimetype:
              type: string
              enum:
                - text/csv
              description: Mime type of the file
            schema:
              type: array
              description: JSON schema properties of the fields in the file
              items:
                type: object
                required:
                  - key
                properties:
                  separator:
                    type:
                      - string
                      - 'null'
                  dateFormat:
                    type:
                      - string
                      - 'null'
                  dateTimeFormat:
                    type:
                      - string
                      - 'null'
                  timeZone:
                    type:
                      - string
                      - 'null'
            props:
              type: object
              additionalProperties: false
              properties:
                numLines:
                  type: number
                  description: Number of lines this file has.
                linesDelimiter:
                  type: string
                  description: "New line character or characters (can be \r\n))"
                fieldsDelimiter:
                  type: string
                  description: Fields delimiter
                escapeChar:
                  type: string
                  description: Character used to escape string
        originalFile:
          type: object
          additionalProperties: false
          required:
            - name
            - size
            - mimetype
          properties:
            name:
              type: string
              description: Name of the file that was used to create or update this dataset
            size:
              type: number
              description: Size of the file on disk
            mimetype:
              type: string
              enum:
                - text/csv
              description: Mime type of the file
            md5:
              type: string
              description: MD5 hash of the file content
        attachments:
          type: array
          items:
            type: object
            required:
              - title
            properties:
              title:
                type: string
                title: Titre
                x-props:
                  outlined: true
                  dense: true
              description:
                type: string
                title: Description
                x-display: markdown
              includeInCatalogPublications:
                type: boolean
                title: Inclure dans les publications sur catalogue
                default: false
            oneOf:
              - title: Fichier
                required:
                  - name
                properties:
                  type:
                    title: Type de pièce jointe
                    const: file
                  name:
                    x-display: hidden
                    type: string
                    description: Name of the file that was used to create or update this attachment
                  size:
                    x-display: hidden
                    type: number
                    description: Size of the file on disk
                  mimetype:
                    x-display: hidden
                    type: string
                    description: Mime type of the file
                  updatedAt:
                    x-display: hidden
                    type: string
                    description: Date of the last update for this attachment
                    format: date-time
                  url:
                    x-display: hidden
                    readOnly: true
                    type: string
                    title: URL
              - title: Lien
                required:
                  - url
                properties:
                  type:
                    title: Type de pièce jointe
                    const: url
                  url:
                    type: string
                    title: URL
              - title: Fichier récupéré depuis une URL
                required:
                  - name
                properties:
                  type:
                    title: Type de pièce jointe
                    const: remoteFile
                  name:
                    type: string
                    title: Nom du fichier
                    description: Ce nom doit contenir l'extension qui doit correspondre au format du fichier téléchargé.
                    x-rules:
                      - hasExtension
                  targetUrl:
                    type: string
                    title: URL de téléchargement
                    description: Cette URL n'est pas consultable après écriture. Elle est utilisée pour télécharger le fichier depuis un service distant et peut contenir un secret. Vous pouvez la laisser vide quand vous modifiez les autres informations, mais vous devez la renseigner de nouveau si vous changez le nom de fichier.
        remoteFile:
          type: object
          additionalProperties: true
          required:
            - url
          properties:
            name:
              type: string
              description: Name of the remote file that was used to create or update this dataset
            url:
              type: string
              description: Url from where the file can be fetched
            catalog:
              type: string
              description: Identifiant du catalogue d'origine
            size:
              type: number
              description: Size of the file on disk
            mimetype:
              type: string
              description: Mime type of the file
            etag:
              type: string
              description: content of the "etag" response header if it was provided
            lastModified:
              type: string
              description: content of the "last-modified" response header if it was provided
            autoUpdate:
              type: object
              properties:
                active:
                  type: boolean
                  default: false
                nextUpdate:
                  type: string
                  format: date-time
                lastUpdate:
                  type: string
                  format: date-time
            forceUpdate:
              type: boolean
        storage:
          type: object
          description: All storage space info of this dataset
          properties:
            size:
              type: integer
            indexed:
              type: object
              properties:
                size:
                  type: integer
                parts:
                  type: array
                  items:
                    type: string
                    enum:
                      - collection
                      - original-file
                      - normalized-file
                      - full-file
                      - attachments
                      - master-data
            attachments:
              type: object
              properties:
                count:
                  type: integer
                size:
                  type: integer
            metadataAttachments:
              type: object
              properties:
                count:
                  type: integer
                size:
                  type: integer
            collection:
              type: object
              properties:
                count:
                  type: integer
                size:
                  type: integer
            revisions:
              type: object
              properties:
                count:
                  type: integer
                size:
                  type: integer
            masterData:
              type: object
              properties:
                count:
                  type: integer
                size:
                  type: integer
            dataFiles:
              type: array
              description: Le tableau de résultats.
              items:
                type: object
                properties:
                  key:
                    type: string
                  size:
                    type: number
                  name:
                    type: string
                  mimetype:
                    type: string
                  updatedAt:
                    type: string
                    format: date-time
                  title:
                    type: string
                  url:
                    type: string
        createdAt:
          type: string
          description: Creation date of this dataset
          format: date-time
        createdBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        updatedAt:
          type: string
          description: Date of the last metadata update for this dataset
          format: date-time
        updatedBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        dataUpdatedAt:
          type: string
          description: Date of the last update for this dataset
          format: date-time
        dataUpdatedBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        finalizedAt:
          type: string
          description: Date of the last finalization for this dataset
          format: date-time
        owner:
          type: object
          additionalProperties: false
          required:
            - type
            - id
          properties:
            type:
              type: string
              enum:
                - user
                - organization
              description: If the owner is a user or an organization
            id:
              type: string
              description: The unique id of the user or organization
            name:
              type: string
              description: The display name of the user or organization
            role:
              type: string
              deprecated: true
              description: DEPRECATED - If this is set and owner is an organization, this restrict ownership to users of this organization having this role or admin role
            department:
              type: string
              description: If this is set and owner is an organization, this gives ownership to users of this organization that belong to this department
            departmentName:
              type: string
              description: The display name of the department
        status:
          type: string
          enum:
            - remote
            - uploaded
            - loaded
            - analyzed
            - schematized
            - indexed
            - extended
            - finalized
            - error
          description: The processing steps of a dataset.
        errorStatus:
          type: string
          enum:
            - remote
            - uploaded
            - loaded
            - analyzed
            - schematized
            - indexed
            - extended
            - finalized
            - error
          description: The processing step the dataset was in when it encountered an error.
        errorRetry:
          type: string
          format: date-time
          description: If defined the task that triggered an error will be retried after a delay.
        primaryKey:
          type: array
          description: List of properties of the schema used as unique primary key for each line
          items:
            type: string
        schema:
          type: array
          description: JSON schema properties of the fields
          items:
            type: object
            required:
              - key
            properties:
              key:
                type: string
                readOnly: true
                x-display: hidden
              type:
                type: string
              format:
                type:
                  - string
                  - 'null'
              x-originalName:
                type:
                  - string
                  - 'null'
              title:
                type: string
              description:
                type: string
              icon:
                type: string
              x-group:
                type: string
              x-refersTo:
                deprecated: true
                type:
                  - string
                  - 'null'
              x-concept:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  primary:
                    type: boolean
              x-calculated:
                type: boolean
              x-capabilities:
                type: object
                properties:
                  index:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Filtrable sur valeur exacte
                    description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels des filtres sur valeurs exactes ont peu de sens.
                  values:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Triable et groupable
                    description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels trier ou grouper par valeur a peu de sens.
                  textStandard:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Texte analysé pour recherche textuelle
                    description: Désactivez cette capacité dans le cas d'un code, une url, etc. N'importe quel contenu sur lequel la recherche de mots a peu de sens.
                  text:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Texte analysé spécifiquement pour la langue française
                    description: Désactivez cette capacité pour tout contenu qui n'est pas en langue française ou pour lequel la recherche de mots a peu de sens.
                  textAgg:
                    type: boolean
                    default: false
                    x-display: switch
                    title: Statistiques de mots
                    description: Activez cette capacité si avez l'intention d'obtenir des statistiques sur les occurrences de mots (par exemple pour construire un nuage de mot).
                  wildcard:
                    type: boolean
                    default: false
                    x-display: switch
                    title: Texte filtrable sur groupe de caractères
                    description: Activez cette capacité si vous avez l'intention de filtrer ce contenu spécifiquement sur une suite de caractères (par exemple si un filtre sur mots entiers ou sur valeur exacte ne convient pas).
                  insensitive:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Tri amélioré avec casse et accents
                    description: Désactivez cette capacité si le contenu ne sera pas utilisé pour du tri ou bien si il ne contient pas de variations avec accents et majuscules.
                  geoShape:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Formes géométriques complexes
                    description: Désactivez cette capacité si la donnée ne contient que des géométries basiques de points ou bien si requêter les géométries uniquement à partir de leurs centroïdes est suffisant pour vos besoins.
                  indexAttachment:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Contenu des pièces jointes analysé pour recherche textuelle
                    description: Désactivez cette option si vous souhaitez que les pièces jointes soient simplement téléchargeables et que l'extraction de leur contenu textuel pour recherche de mots n'est pas pertinente.
              x-labels:
                type: object
              x-labelsRestricted:
                type: boolean
              readOnly:
                type: boolean
              x-required:
                type: boolean
              minLength:
                type: integer
              maxLength:
                type: integer
              minimum:
                type: number
              maximum:
                type: number
              pattern:
                type: string
                format: regex
              x-master:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  remoteService:
                    type: string
                    description: L'identifiant du service distant utilisé pour l'enrichissement
                  action:
                    type: string
                    description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
              x-display:
                type: string
              enum:
                type: array
                readOnly: true
                description: This differs from JSON schema. It is not a restriction, just and observation of the values that are present in the dataset.
              x-cardinality:
                type: integer
                description: The number of distinct values for this field
                readOnly: true
              x-transform:
                type: object
                description: Transformation to apply to the field
                properties:
                  expr:
                    type: string
                  examples:
                    type: array
                    items:
                      type: string
                  type:
                    type: string
                  format:
                    type: string
        count:
          type: number
          description: The number of indexed documents of a dataset
        bbox:
          type: array
          description: The spatial coverage of this dataset, in bounding box format.
          items:
            type: number
        timePeriod:
          type: object
          description: The temporal coverage of this dataset
          properties:
            startDate:
              type: string
              format: date-time
            endDate:
              type: string
              format: date-time
        timeZone:
          type: string
          description: The original time zone of the calendar.
        projection:
          type: object
          description: The cartographic projection of this dataset. Refers to the list of supported projections in contract/projections.json
          properties:
            title:
              type: string
            code:
              type: string
        license:
          type: object
          additionalProperties: false
          required:
            - title
            - href
          properties:
            title:
              type: string
              description: Short title for the license
            href:
              type: string
              description: The URL where the license can be read
        origin:
          type: string
          description: The URL where the original data can be found
        extensions:
          type: array
          description: Définition des enrichissements appliqués à ce jeu de données
          items:
            type: object
            properties:
              active:
                type: boolean
                description: Toggle on and off the extension
              needsUpdate:
                type: boolean
              autoUpdate:
                type: boolean
              nextUpdate:
                type: string
                format: date-time
            oneOf:
              - required:
                  - type
                  - expr
                  - property
                properties:
                  type:
                    type: string
                    const: exprEval
                  expr:
                    type: string
                  property:
                    type: object
                    required:
                      - key
                      - type
                    properties:
                      key:
                        type: string
                      type:
                        type: string
              - required:
                  - type
                  - remoteService
                  - action
                properties:
                  type:
                    type: string
                    const: remoteService
                  remoteService:
                    type: string
                    description: L'identifiant du service distant utilisé pour l'enrichissement
                  action:
                    type: string
                    description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
                  select:
                    type: array
                    description: La liste des colonnes à sélectionner dans le retour du service distant. Toutes les colonnes si absent ou vide.
                    items:
                      type: string
                  shortId:
                    type: string
                    description: Id court (déprécié)
                    readOnly: true
                  propertyPrefix:
                    type: string
                    description: Chaine à utiliser comme préfixe des clés de champs issus de cette extension
        masterData:
          type: object
          title: Données de référence
          properties:
            bulkSearchs:
              type: array
              title: Récupération de lignes en masse
              x-class: my-4
              x-options:
                editMode: dialog
              items:
                type: object
                required:
                  - title
                properties:
                  id:
                    type: string
                    title: Identifiant
                    x-if: parent.value.id
                    readOnly: true
                  title:
                    type: string
                    title: Titre
                    x-props:
                      placeholder: exemple "récupérer les informations de plusieurs produits"
                    minLength: 3
                  description:
                    type: string
                    title: Description
                    x-display: textarea
                    x-props:
                      placeholder: exemple "cet enrichissement vous permet de récupérer les informations de plusieurs produits à partir d'une liste de codes produits."
                  filters:
                    type: array
                    title: Filtres statiques
                    x-class: mb-4
                    x-options:
                      editMode: inline
                    items:
                      type: object
                      required:
                        - property
                        - values
                      properties:
                        property:
                          type: object
                          title: Propriété sur laquelle appliquer le filtre
                          x-fromData: context.filterProperties
                          x-itemTitle: title
                          x-itemKey: key
                        values:
                          type: array
                          title: Valeurs
                          items:
                            type: string
                  input:
                    type: array
                    title: Méthodes de correspondance
                    x-class: mb-4
                    minItems: 1
                    x-options:
                      editMode: inline
                    items:
                      type: object
                      required:
                        - type
                        - property
                      oneOf:
                        - title: Valeurs exactement égales
                          required:
                            - type
                            - property
                          properties:
                            type:
                              type: string
                              const: equals
                              title: Type de méthode de correspondance
                            property:
                              type: object
                              title: Propriété comparée
                              x-fromData: context.propertiesWithConcepts
                              x-itemTitle: title
                              x-itemKey: key
                        - title: Date dans un interval
                          x-if: context.hasDateIntervalConcepts
                          properties:
                            type:
                              type: string
                              const: date-in-interval
                            property:
                              type: object
                              title: Date à renseigner
                              properties:
                                x-refersTo:
                                  type: string
                                  const: http://schema.org/Date
                                key:
                                  type: string
                                  const: _date
                                type:
                                  type: string
                                  const: string
                                format:
                                  type: string
                                  const: date-time
                        - title: Coordonnée géographique à proximité
                          x-if: context.dataset.bbox
                          required:
                            - type
                            - distance
                          properties:
                            type:
                              type: string
                              const: geo-distance
                            distance:
                              type: integer
                              title: Distance
                              default: 0
                            property:
                              type: object
                              title: Point à renseigner
                              properties:
                                x-refersTo:
                                  type: string
                                  const: http://www.w3.org/2003/01/geo/wgs84_pos#lat_long
                                key:
                                  type: string
                                  const: _geopoint
                                type:
                                  type: string
                                  const: string
                  sort:
                    type: string
                    title: Tri pour choisir parmi des résultats ambigus
                    description: |-

                      Remarque : ce paramètre est optionnel et utile uniquement si la manière d'établir une correspondance est susceptible de retourner plusieurs résultats par ligne.

                      Le tri est exprimé sous forme d'une liste de clés de colonnes séparées par des virgules. Par défaut le tri est ascendant, si un nom de colonne est préfixé par un "-" alors le tri sera descendant.

                      Exemple: ma_colonne,-ma_colonne2
            singleSearchs:
              type: array
              title: Recherche de paires code / libellé
              x-class: mb-4
              x-options:
                editMode: dialog
              items:
                type: object
                required:
                  - title
                  - output
                properties:
                  id:
                    type: string
                    title: Identifiant
                    x-if: parent.value.id
                    readOnly: true
                  title:
                    type: string
                    title: Titre
                    x-props:
                      placeholder: exemple "recherche d'un produit"
                    minLength: 3
                  description:
                    type: string
                    title: Description
                    x-display: textarea
                    x-props:
                      placeholder: exemple "récupérez un code produit en effectuant une recherche dans son code ou son libellé"
                  output:
                    type: object
                    title: Propriété à retourner (code)
                    x-fromData: context.propertiesWithConcepts
                    x-itemTitle: title
                    x-itemKey: key
                  label:
                    type: object
                    title: Propriété utilisée pour la recherche (libellé)
                    x-fromData: context.stringProperties
                    x-itemTitle: title
                    x-itemKey: key
                  filters:
                    type: array
                    title: Filtres statiques
                    x-class: mb-4
                    x-options:
                      editMode: inline
                    items:
                      type: object
                      required:
                        - property
                        - values
                      properties:
                        property:
                          type: object
                          title: Propriété sur laquelle appliquer le filtre
                          x-fromData: context.filterProperties
                          x-itemTitle: title
                          x-itemKey: key
                        values:
                          type: array
                          title: Valeurs
                          items:
                            type: string
            virtualDatasets:
              type: object
              x-class: mt-4
              properties:
                active:
                  type: boolean
                  title: Création de jeux virtuels
            standardSchema:
              type: object
              x-class: mt-4
              properties:
                active:
                  type: boolean
                  title: Initialisation de jeux éditables
        publications:
          type: array
          description: References to all the catalogs the dataset metadata is published too
          items:
            type: object
            required:
              - catalog
              - status
            additionalProperties: false
            properties:
              id:
                type: string
              catalog:
                type: string
                description: L'identifiant du catalogue de destination de cette publication.
              status:
                type: string
                description: A simple flag to clearly identify the publications that were successful. If "published" then the targetUrl key should be defined, If "error" then the error key should be defined.
                enum:
                  - waiting
                  - published
                  - error
                  - deleted
              publishedAt:
                type: string
                description: Date of the last update for this publication
                format: date-time
              error:
                type: string
              targetUrl:
                type: string
              result:
                type: object
                description: The result of pushing the publication. The structure of this object is permissive and depends on the type of catalog
              addToDataset:
                type: object
                description: Fill this object to create a new resource (or community resource) to an existing dataset.
                properties:
                  id:
                    type: string
                  title:
                    type: string
              replaceDataset:
                type: object
                description: Fill this object to overwrite an existing dataset.
                properties:
                  id:
                    type: string
                  title:
                    type: string
        publicationSites:
          type: array
          description: References to all sites the dataset is exposed in.
          items:
            type: string
        requestedPublicationSites:
          type: array
          description: References to all sites the dataset would be exposed in if validated by an admin.
          items:
            type: string
        hasFiles:
          type: boolean
          default: false
          description: true when the dataset has attached files
        attachmentsAsImage:
          type: boolean
          default: false
          description: Set to true to use attached files as illustrations of the line
        isVirtual:
          type: boolean
          default: false
          description: Used to identify virtual datasets. A virtual datasets does not have data, only references to other datasets.
        virtual:
          type: object
          description: A configuration object dedicated to virtual datasets.
          required:
            - children
          properties:
            children:
              type: array
              description: Array of ids of the children datasets
              items:
                type: string
            filters:
              type: array
              description: Array of static filters to always apply when querying the dataset
              items:
                type: object
                required:
                  - key
                  - values
                properties:
                  key:
                    type: string
                    description: Key of the field in the schema
                  values:
                    type: array
                    items:
                      type: string
            filterActiveAccount:
              type: boolean
        isRest:
          type: boolean
          default: false
          description: Used to identify REST datasets. A REST dataset is not created from a data file, but instead is based on a dynamic collection in a database.
        rest:
          type: object
          description: A configuration object dedicated to REST datasets.
          properties:
            ttl:
              type: object
              properties:
                active:
                  type: boolean
                prop:
                  type: string
                checkedAt:
                  type: string
                  format: date-time
                  readOnly: true
                delay:
                  type: object
                  properties:
                    value:
                      type: integer
                      default: 0
                    unit:
                      type: string
                      enum:
                        - hours
                        - days
                        - weeks
                        - months
                      default: days
            history:
              type: boolean
              default: false
              description: Set to true to let data-fair store revisions of the lines in the dataset.
            historyTTL:
              type: object
              additionalProperties: false
              properties:
                active:
                  type: boolean
                delay:
                  type: object
                  additionalProperties: false
                  properties:
                    value:
                      type: integer
                      default: 0
                    unit:
                      type: string
                      enum:
                        - hours
                        - days
                        - weeks
                        - months
                      default: days
            lineOwnership:
              type: boolean
            storeUpdatedBy:
              type: boolean
            primaryKeyMode:
              type: string
              enum:
                - base64
                - sha256
        isMetaOnly:
          type: boolean
          default: false
          description: Used to identify datasets without any local data and only some metadata.
        topics:
          type: array
          title: Liste de thématiques
          x-itemTitle: title
          items:
            type: object
            additionalProperties: false
            required:
              - title
            properties:
              id:
                type: string
                readOnly: true
                x-display: hidden
              title:
                type: string
              color:
                type: string
                x-display: color-picker
              icon:
                title: Icône
                description: Il est possible de consulter plus facilement la liste des icones disponibles sur <a href="https://materialdesignicons.com" target="_blank">ce site</a>.
                type: object
                x-fromUrl: https://koumoul.com/data-fair/api/v1/datasets/icons-mdi-latest/lines?q={q}
                x-itemKey: name
                x-itemTitle: name
                x-itemIcon: name
                x-itemsProp: results
                properties:
                  name:
                    type: string
                  svg:
                    type: string
        thumbnails:
          type: object
          properties:
            resizeMode:
              type: string
              description: Define how the thumbnails will be adapted to the size requested by visualizations
              enum:
                - crop
                - smartCrop
                - fitIn
              default: crop
        exports:
          type: object
          properties:
            restToCSV:
              type: object
              properties:
                active:
                  type: boolean
                  default: false
                nextExport:
                  type: string
                  format: date-time
                lastExport:
                  type: object
                  properties:
                    date:
                      type: string
                      format: date-time
        extras:
          type: object
          description: An object for extra content from client services of data-fair
        analysis:
          type: object
          additionalProperties: false
          properties:
            escapeKeyAlgorithm:
              type: string
              default: slug
              enum:
                - legacy
                - slug
        permissions:
          type: array
          items:
            type: object
            description: Permission to do the operations (identified by their id). If type and id are not set, then the operation is set to public. roles array is used only with type organization
            additionalProperties: false
            anyOf:
              - required:
                  - operations
              - required:
                  - classes
            properties:
              type:
                type: string
                enum:
                  - user
                  - organization
                description: If the entity is a user or an organization
              id:
                type: string
                description: Identifier of the entity
              name:
                type: string
                description: Name of the entity
              email:
                type: string
                description: Email of the user
              department:
                type: string
                description: Identifier of the department or "*" for any department (same as empty) or "-" for no department
              departmentName:
                type: string
                description: Name of the department
              roles:
                type: array
                items:
                  type: string
                  description: Role name
              operations:
                type: array
                items:
                  type: string
                  description: API operation that can be used
              classes:
                type: array
                items:
                  type: string
                  description: API permission classes that can be used
        previews:
          type: array
          title: Prévisualisations
          items:
            type: object
            properties:
              id:
                type: string
              title:
                type: string
              href:
                type: string
        readApiKey:
          type: object
          additionalProperties: false
          properties:
            active:
              type: boolean
              title: Activer l'accès par clé d'API
            interval:
              type: string
              title: Durée de validité des clés
              oneOf:
                - const: P1W
                  title: 1 semaine
                - const: P1M
                  title: 1 mois
                - const: P1Y
                  title: 1 année
            expiresAt:
              type: string
              format: date-time
              readOnly: true
              x-display: hidden
            renewAt:
              type: string
              format: date-time
              readOnly: true
              x-display: hidden
        esWarning:
          type:
            - string
            - 'null'
          enum:
            - MissingIndex
            - IndexHealthRed
            - MissingIndexSettings
            - ShardingRecommended
        draft:
          title: Dataset draft
          description: Some properties waiting for confirmation before being merged into the main dataset info
          type: object
          additionalProperties: false
          properties:
            draftReason:
              type: object
              title: Why was the dataset switched in draft mode
              properties:
                key:
                  type: string
                  enum:
                    - manual
                    - file-new
                    - file-updated
                message:
                  type: string
                validationMode:
                  type: string
                  enum:
                    - never
                    - always
                    - compatible
            validateDraft:
              type: boolean
              title: indicates that the draft was validated and is being processed to replace the current state
            schema:
              type: array
              description: JSON schema properties of the fields
              items:
                type: object
                required:
                  - key
                properties:
                  key:
                    type: string
                    readOnly: true
                    x-display: hidden
                  type:
                    type: string
                  format:
                    type:
                      - string
                      - 'null'
                  x-originalName:
                    type:
                      - string
                      - 'null'
                  title:
                    type: string
                  description:
                    type: string
                  icon:
                    type: string
                  x-group:
                    type: string
                  x-refersTo:
                    deprecated: true
                    type:
                      - string
                      - 'null'
                  x-concept:
                    type: object
                    properties:
                      id:
                        type: string
                      title:
                        type: string
                      primary:
                        type: boolean
                  x-calculated:
                    type: boolean
                  x-capabilities:
                    type: object
                    properties:
                      index:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Filtrable sur valeur exacte
                        description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels des filtres sur valeurs exactes ont peu de sens.
                      values:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Triable et groupable
                        description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels trier ou grouper par valeur a peu de sens.
                      textStandard:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Texte analysé pour recherche textuelle
                        description: Désactivez cette capacité dans le cas d'un code, une url, etc. N'importe quel contenu sur lequel la recherche de mots a peu de sens.
                      text:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Texte analysé spécifiquement pour la langue française
                        description: Désactivez cette capacité pour tout contenu qui n'est pas en langue française ou pour lequel la recherche de mots a peu de sens.
                      textAgg:
                        type: boolean
                        default: false
                        x-display: switch
                        title: Statistiques de mots
                        description: Activez cette capacité si avez l'intention d'obtenir des statistiques sur les occurrences de mots (par exemple pour construire un nuage de mot).
                      wildcard:
                        type: boolean
                        default: false
                        x-display: switch
                        title: Texte filtrable sur groupe de caractères
                        description: Activez cette capacité si vous avez l'intention de filtrer ce contenu spécifiquement sur une suite de caractères (par exemple si un filtre sur mots entiers ou sur valeur exacte ne convient pas).
                      insensitive:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Tri amélioré avec casse et accents
                        description: Désactivez cette capacité si le contenu ne sera pas utilisé pour du tri ou bien si il ne contient pas de variations avec accents et majuscules.
                      geoShape:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Formes géométriques complexes
                        description: Désactivez cette capacité si la donnée ne contient que des géométries basiques de points ou bien si requêter les géométries uniquement à partir de leurs centroïdes est suffisant pour vos besoins.
                      indexAttachment:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Contenu des pièces jointes analysé pour recherche textuelle
                        description: Désactivez cette option si vous souhaitez que les pièces jointes soient simplement téléchargeables et que l'extraction de leur contenu textuel pour recherche de mots n'est pas pertinente.
                  x-labels:
                    type: object
                  x-labelsRestricted:
                    type: boolean
                  readOnly:
                    type: boolean
                  x-required:
                    type: boolean
                  minLength:
                    type: integer
                  maxLength:
                    type: integer
                  minimum:
                    type: number
                  maximum:
                    type: number
                  pattern:
                    type: string
                    format: regex
                  x-master:
                    type: object
                    properties:
                      id:
                        type: string
                      title:
                        type: string
                      remoteService:
                        type: string
                        description: L'identifiant du service distant utilisé pour l'enrichissement
                      action:
                        type: string
                        description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
                  x-display:
                    type: string
                  enum:
                    type: array
                    readOnly: true
                    description: This differs from JSON schema. It is not a restriction, just and observation of the values that are present in the dataset.
                  x-cardinality:
                    type: integer
                    description: The number of distinct values for this field
                    readOnly: true
                  x-transform:
                    type: object
                    description: Transformation to apply to the field
                    properties:
                      expr:
                        type: string
                      examples:
                        type: array
                        items:
                          type: string
                      type:
                        type: string
                      format:
                        type: string
            description:
              type: string
              description: Detailed description of the dataset
            title:
              type: string
              description: Short title of the dataset
            license:
              type: object
              additionalProperties: false
              required:
                - title
                - href
              properties:
                title:
                  type: string
                  description: Short title for the license
                href:
                  type: string
                  description: The URL where the license can be read
            origin:
              type: string
              description: The URL where the original data can be found
            extensions:
              type: array
              description: Définition des enrichissements appliqués à ce jeu de données
              items:
                type: object
                properties:
                  active:
                    type: boolean
                    description: Toggle on and off the extension
                  needsUpdate:
                    type: boolean
                  autoUpdate:
                    type: boolean
                  nextUpdate:
                    type: string
                    format: date-time
                oneOf:
                  - required:
                      - type
                      - expr
                      - property
                    properties:
                      type:
                        type: string
                        const: exprEval
                      expr:
                        type: string
                      property:
                        type: object
                        required:
                          - key
                          - type
                        properties:
                          key:
                            type: string
                          type:
                            type: string
                  - required:
                      - type
                      - remoteService
                      - action
                    properties:
                      type:
                        type: string
                        const: remoteService
                      remoteService:
                        type: string
                        description: L'identifiant du service distant utilisé pour l'enrichissement
                      action:
                        type: string
                        description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
                      select:
                        type: array
                        description: La liste des colonnes à sélectionner dans le retour du service distant. Toutes les colonnes si absent ou vide.
                        items:
                          type: string
                      shortId:
                        type: string
                        description: Id court (déprécié)
                        readOnly: true
                      propertyPrefix:
                        type: string
                        description: Chaine à utiliser comme préfixe des clés de champs issus de cette extension
            publications:
              type: array
              description: References to all the catalogs the dataset metadata is published too
              items:
                type: object
                required:
                  - catalog
                  - status
                additionalProperties: false
                properties:
                  id:
                    type: string
                  catalog:
                    type: string
                    description: L'identifiant du catalogue de destination de cette publication.
                  status:
                    type: string
                    description: A simple flag to clearly identify the publications that were successful. If "published" then the targetUrl key should be defined, If "error" then the error key should be defined.
                    enum:
                      - waiting
                      - published
                      - error
                      - deleted
                  publishedAt:
                    type: string
                    description: Date of the last update for this publication
                    format: date-time
                  error:
                    type: string
                  targetUrl:
                    type: string
                  result:
                    type: object
                    description: The result of pushing the publication. The structure of this object is permissive and depends on the type of catalog
                  addToDataset:
                    type: object
                    description: Fill this object to create a new resource (or community resource) to an existing dataset.
                    properties:
                      id:
                        type: string
                      title:
                        type: string
                  replaceDataset:
                    type: object
                    description: Fill this object to overwrite an existing dataset.
                    properties:
                      id:
                        type: string
                      title:
                        type: string
            publicationSites:
              type: array
              description: References to all sites the dataset is exposed in.
              items:
                type: string
            virtual:
              type: object
              description: A configuration object dedicated to virtual datasets.
              required:
                - children
              properties:
                children:
                  type: array
                  description: Array of ids of the children datasets
                  items:
                    type: string
                filters:
                  type: array
                  description: Array of static filters to always apply when querying the dataset
                  items:
                    type: object
                    required:
                      - key
                      - values
                    properties:
                      key:
                        type: string
                        description: Key of the field in the schema
                      values:
                        type: array
                        items:
                          type: string
                filterActiveAccount:
                  type: boolean
            rest:
              type: object
              description: A configuration object dedicated to REST datasets.
              properties:
                ttl:
                  type: object
                  properties:
                    active:
                      type: boolean
                    prop:
                      type: string
                    checkedAt:
                      type: string
                      format: date-time
                      readOnly: true
                    delay:
                      type: object
                      properties:
                        value:
                          type: integer
                          default: 0
                        unit:
                          type: string
                          enum:
                            - hours
                            - days
                            - weeks
                            - months
                          default: days
                history:
                  type: boolean
                  default: false
                  description: Set to true to let data-fair store revisions of the lines in the dataset.
                historyTTL:
                  type: object
                  additionalProperties: false
                  properties:
                    active:
                      type: boolean
                    delay:
                      type: object
                      additionalProperties: false
                      properties:
                        value:
                          type: integer
                          default: 0
                        unit:
                          type: string
                          enum:
                            - hours
                            - days
                            - weeks
                            - months
                          default: days
                lineOwnership:
                  type: boolean
                storeUpdatedBy:
                  type: boolean
                primaryKeyMode:
                  type: string
                  enum:
                    - base64
                    - sha256
            extras:
              type: object
              description: An object for extra content from client services of data-fair
            attachmentsAsImage:
              type: boolean
              default: false
              description: Set to true to use attached files as illustrations of the line
            projection:
              type: object
              description: The cartographic projection of this dataset. Refers to the list of supported projections in contract/projections.json
              properties:
                title:
                  type: string
                code:
                  type: string
            attachments:
              type: array
              items:
                type: object
                required:
                  - title
                properties:
                  title:
                    type: string
                    title: Titre
                    x-props:
                      outlined: true
                      dense: true
                  description:
                    type: string
                    title: Description
                    x-display: markdown
                  includeInCatalogPublications:
                    type: boolean
                    title: Inclure dans les publications sur catalogue
                    default: false
                oneOf:
                  - title: Fichier
                    required:
                      - name
                    properties:
                      type:
                        title: Type de pièce jointe
                        const: file
                      name:
                        x-display: hidden
                        type: string
                        description: Name of the file that was used to create or update this attachment
                      size:
                        x-display: hidden
                        type: number
                        description: Size of the file on disk
                      mimetype:
                        x-display: hidden
                        type: string
                        description: Mime type of the file
                      updatedAt:
                        x-display: hidden
                        type: string
                        description: Date of the last update for this attachment
                        format: date-time
                      url:
                        x-display: hidden
                        readOnly: true
                        type: string
                        title: URL
                  - title: Lien
                    required:
                      - url
                    properties:
                      type:
                        title: Type de pièce jointe
                        const: url
                      url:
                        type: string
                        title: URL
                  - title: Fichier récupéré depuis une URL
                    required:
                      - name
                    properties:
                      type:
                        title: Type de pièce jointe
                        const: remoteFile
                      name:
                        type: string
                        title: Nom du fichier
                        description: Ce nom doit contenir l'extension qui doit correspondre au format du fichier téléchargé.
                        x-rules:
                          - hasExtension
                      targetUrl:
                        type: string
                        title: URL de téléchargement
                        description: Cette URL n'est pas consultable après écriture. Elle est utilisée pour télécharger le fichier depuis un service distant et peut contenir un secret. Vous pouvez la laisser vide quand vous modifiez les autres informations, mais vous devez la renseigner de nouveau si vous changez le nom de fichier.
            topics:
              type: array
              title: Liste de thématiques
              x-itemTitle: title
              items:
                type: object
                additionalProperties: false
                required:
                  - title
                properties:
                  id:
                    type: string
                    readOnly: true
                    x-display: hidden
                  title:
                    type: string
                  color:
                    type: string
                    x-display: color-picker
                  icon:
                    title: Icône
                    description: Il est possible de consulter plus facilement la liste des icones disponibles sur <a href="https://materialdesignicons.com" target="_blank">ce site</a>.
                    type: object
                    x-fromUrl: https://koumoul.com/data-fair/api/v1/datasets/icons-mdi-latest/lines?q={q}
                    x-itemKey: name
                    x-itemTitle: name
                    x-itemIcon: name
                    x-itemsProp: results
                    properties:
                      name:
                        type: string
                      svg:
                        type: string
            thumbnails:
              type: object
              properties:
                resizeMode:
                  type: string
                  description: Define how the thumbnails will be adapted to the size requested by visualizations
                  enum:
                    - crop
                    - smartCrop
                    - fitIn
                  default: crop
            masterData:
              type: object
              title: Données de référence
              properties:
                bulkSearchs:
                  type: array
                  title: Récupération de lignes en masse
                  x-class: my-4
                  x-options:
                    editMode: dialog
                  items:
                    type: object
                    required:
                      - title
                    properties:
                      id:
                        type: string
                        title: Identifiant
                        x-if: parent.value.id
                        readOnly: true
                      title:
                        type: string
                        title: Titre
                        x-props:
                          placeholder: exemple "récupérer les informations de plusieurs produits"
                        minLength: 3
                      description:
                        type: string
                        title: Description
                        x-display: textarea
                        x-props:
                          placeholder: exemple "cet enrichissement vous permet de récupérer les informations de plusieurs produits à partir d'une liste de codes produits."
                      filters:
                        type: array
                        title: Filtres statiques
                        x-class: mb-4
                        x-options:
                          editMode: inline
                        items:
                          type: object
                          required:
                            - property
                            - values
                          properties:
                            property:
                              type: object
                              title: Propriété sur laquelle appliquer le filtre
                              x-fromData: context.filterProperties
                              x-itemTitle: title
                              x-itemKey: key
                            values:
                              type: array
                              title: Valeurs
                              items:
                                type: string
                      input:
                        type: array
                        title: Méthodes de correspondance
                        x-class: mb-4
                        minItems: 1
                        x-options:
                          editMode: inline
                        items:
                          type: object
                          required:
                            - type
                            - property
                          oneOf:
                            - title: Valeurs exactement égales
                              required:
                                - type
                                - property
                              properties:
                                type:
                                  type: string
                                  const: equals
                                  title: Type de méthode de correspondance
                                property:
                                  type: object
                                  title: Propriété comparée
                                  x-fromData: context.propertiesWithConcepts
                                  x-itemTitle: title
                                  x-itemKey: key
                            - title: Date dans un interval
                              x-if: context.hasDateIntervalConcepts
                              properties:
                                type:
                                  type: string
                                  const: date-in-interval
                                property:
                                  type: object
                                  title: Date à renseigner
                                  properties:
                                    x-refersTo:
                                      type: string
                                      const: http://schema.org/Date
                                    key:
                                      type: string
                                      const: _date
                                    type:
                                      type: string
                                      const: string
                                    format:
                                      type: string
                                      const: date-time
                            - title: Coordonnée géographique à proximité
                              x-if: context.dataset.bbox
                              required:
                                - type
                                - distance
                              properties:
                                type:
                                  type: string
                                  const: geo-distance
                                distance:
                                  type: integer
                                  title: Distance
                                  default: 0
                                property:
                                  type: object
                                  title: Point à renseigner
                                  properties:
                                    x-refersTo:
                                      type: string
                                      const: http://www.w3.org/2003/01/geo/wgs84_pos#lat_long
                                    key:
                                      type: string
                                      const: _geopoint
                                    type:
                                      type: string
                                      const: string
                      sort:
                        type: string
                        title: Tri pour choisir parmi des résultats ambigus
                        description: |-

                          Remarque : ce paramètre est optionnel et utile uniquement si la manière d'établir une correspondance est susceptible de retourner plusieurs résultats par ligne.

                          Le tri est exprimé sous forme d'une liste de clés de colonnes séparées par des virgules. Par défaut le tri est ascendant, si un nom de colonne est préfixé par un "-" alors le tri sera descendant.

                          Exemple: ma_colonne,-ma_colonne2
                singleSearchs:
                  type: array
                  title: Recherche de paires code / libellé
                  x-class: mb-4
                  x-options:
                    editMode: dialog
                  items:
                    type: object
                    required:
                      - title
                      - output
                    properties:
                      id:
                        type: string
                        title: Identifiant
                        x-if: parent.value.id
                        readOnly: true
                      title:
                        type: string
                        title: Titre
                        x-props:
                          placeholder: exemple "recherche d'un produit"
                        minLength: 3
                      description:
                        type: string
                        title: Description
                        x-display: textarea
                        x-props:
                          placeholder: exemple "récupérez un code produit en effectuant une recherche dans son code ou son libellé"
                      output:
                        type: object
                        title: Propriété à retourner (code)
                        x-fromData: context.propertiesWithConcepts
                        x-itemTitle: title
                        x-itemKey: key
                      label:
                        type: object
                        title: Propriété utilisée pour la recherche (libellé)
                        x-fromData: context.stringProperties
                        x-itemTitle: title
                        x-itemKey: key
                      filters:
                        type: array
                        title: Filtres statiques
                        x-class: mb-4
                        x-options:
                          editMode: inline
                        items:
                          type: object
                          required:
                            - property
                            - values
                          properties:
                            property:
                              type: object
                              title: Propriété sur laquelle appliquer le filtre
                              x-fromData: context.filterProperties
                              x-itemTitle: title
                              x-itemKey: key
                            values:
                              type: array
                              title: Valeurs
                              items:
                                type: string
                virtualDatasets:
                  type: object
                  x-class: mt-4
                  properties:
                    active:
                      type: boolean
                      title: Création de jeux virtuels
                standardSchema:
                  type: object
                  x-class: mt-4
                  properties:
                    active:
                      type: boolean
                      title: Initialisation de jeux éditables
            primaryKey:
              type: array
              description: List of properties of the schema used as unique primary key for each line
              items:
                type: string
            image:
              type: string
              description: URL d'une image, illustration du jeu de données
            spatial:
              type: string
              description: spatial coverage
            temporal:
              type: object
              description: temporal coverage
              properties:
                start:
                  type: string
                  format: date
                end:
                  type: string
                  format: date
            keywords:
              type: array
              description: keywords
              items:
                type: string
            frequency:
              type: string
              description: update frequency
              enum:
                - ''
                - triennial
                - biennial
                - annual
                - semiannual
                - threeTimesAYear
                - quarterly
                - bimonthly
                - monthly
                - semimonthly
                - biweekly
                - threeTimesAMonth
                - weekly
                - semiweekly
                - threeTimesAWeek
                - daily
                - continuous
                - irregular
    datasetPatch:
      title: Dataset patch
      type: object
      additionalProperties: false
      properties:
        schema:
          type:
            - 'null'
            - array
          description: JSON schema properties of the fields
          items:
            type: object
            required:
              - key
            properties:
              key:
                type: string
                readOnly: true
                x-display: hidden
              type:
                type: string
              format:
                type:
                  - string
                  - 'null'
              x-originalName:
                type:
                  - string
                  - 'null'
              title:
                type: string
              description:
                type: string
              icon:
                type: string
              x-group:
                type: string
              x-refersTo:
                deprecated: true
                type:
                  - string
                  - 'null'
              x-concept:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  primary:
                    type: boolean
              x-calculated:
                type: boolean
              x-capabilities:
                type: object
                properties:
                  index:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Filtrable sur valeur exacte
                    description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels des filtres sur valeurs exactes ont peu de sens.
                  values:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Triable et groupable
                    description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels trier ou grouper par valeur a peu de sens.
                  textStandard:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Texte analysé pour recherche textuelle
                    description: Désactivez cette capacité dans le cas d'un code, une url, etc. N'importe quel contenu sur lequel la recherche de mots a peu de sens.
                  text:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Texte analysé spécifiquement pour la langue française
                    description: Désactivez cette capacité pour tout contenu qui n'est pas en langue française ou pour lequel la recherche de mots a peu de sens.
                  textAgg:
                    type: boolean
                    default: false
                    x-display: switch
                    title: Statistiques de mots
                    description: Activez cette capacité si avez l'intention d'obtenir des statistiques sur les occurrences de mots (par exemple pour construire un nuage de mot).
                  wildcard:
                    type: boolean
                    default: false
                    x-display: switch
                    title: Texte filtrable sur groupe de caractères
                    description: Activez cette capacité si vous avez l'intention de filtrer ce contenu spécifiquement sur une suite de caractères (par exemple si un filtre sur mots entiers ou sur valeur exacte ne convient pas).
                  insensitive:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Tri amélioré avec casse et accents
                    description: Désactivez cette capacité si le contenu ne sera pas utilisé pour du tri ou bien si il ne contient pas de variations avec accents et majuscules.
                  geoShape:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Formes géométriques complexes
                    description: Désactivez cette capacité si la donnée ne contient que des géométries basiques de points ou bien si requêter les géométries uniquement à partir de leurs centroïdes est suffisant pour vos besoins.
                  indexAttachment:
                    type: boolean
                    default: true
                    x-display: switch
                    title: Contenu des pièces jointes analysé pour recherche textuelle
                    description: Désactivez cette option si vous souhaitez que les pièces jointes soient simplement téléchargeables et que l'extraction de leur contenu textuel pour recherche de mots n'est pas pertinente.
              x-labels:
                type: object
              x-labelsRestricted:
                type: boolean
              readOnly:
                type: boolean
              x-required:
                type: boolean
              minLength:
                type: integer
              maxLength:
                type: integer
              minimum:
                type: number
              maximum:
                type: number
              pattern:
                type: string
                format: regex
              x-master:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  remoteService:
                    type: string
                    description: L'identifiant du service distant utilisé pour l'enrichissement
                  action:
                    type: string
                    description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
              x-display:
                type: string
              enum:
                type: array
                readOnly: true
                description: This differs from JSON schema. It is not a restriction, just and observation of the values that are present in the dataset.
              x-cardinality:
                type: integer
                description: The number of distinct values for this field
                readOnly: true
              x-transform:
                type: object
                description: Transformation to apply to the field
                properties:
                  expr:
                    type: string
                  examples:
                    type: array
                    items:
                      type: string
                  type:
                    type: string
                  format:
                    type: string
        description:
          type:
            - 'null'
            - string
          description: Detailed description of the dataset
        title:
          type:
            - 'null'
            - string
          description: Short title of the dataset
        slug:
          type:
            - 'null'
            - string
          description: Identifier of the dataset, usually a slug for URL readability (unique inside the tenant)
        license:
          type:
            - 'null'
            - object
          additionalProperties: false
          required:
            - title
            - href
          properties:
            title:
              type: string
              description: Short title for the license
            href:
              type: string
              description: The URL where the license can be read
        origin:
          type:
            - 'null'
            - string
          description: The URL where the original data can be found
        image:
          type:
            - 'null'
            - string
          description: URL d'une image, illustration du jeu de données
        extensions:
          type:
            - 'null'
            - array
          description: Définition des enrichissements appliqués à ce jeu de données
          items:
            type: object
            properties:
              active:
                type: boolean
                description: Toggle on and off the extension
              needsUpdate:
                type: boolean
              autoUpdate:
                type: boolean
              nextUpdate:
                type: string
                format: date-time
            oneOf:
              - required:
                  - type
                  - expr
                  - property
                properties:
                  type:
                    type: string
                    const: exprEval
                  expr:
                    type: string
                  property:
                    type: object
                    required:
                      - key
                      - type
                    properties:
                      key:
                        type: string
                      type:
                        type: string
              - required:
                  - type
                  - remoteService
                  - action
                properties:
                  type:
                    type: string
                    const: remoteService
                  remoteService:
                    type: string
                    description: L'identifiant du service distant utilisé pour l'enrichissement
                  action:
                    type: string
                    description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
                  select:
                    type: array
                    description: La liste des colonnes à sélectionner dans le retour du service distant. Toutes les colonnes si absent ou vide.
                    items:
                      type: string
                  shortId:
                    type: string
                    description: Id court (déprécié)
                    readOnly: true
                  propertyPrefix:
                    type: string
                    description: Chaine à utiliser comme préfixe des clés de champs issus de cette extension
        publications:
          type:
            - 'null'
            - array
          description: References to all the catalogs the dataset metadata is published too
          items:
            type: object
            required:
              - catalog
              - status
            additionalProperties: false
            properties:
              id:
                type: string
              catalog:
                type: string
                description: L'identifiant du catalogue de destination de cette publication.
              status:
                type: string
                description: A simple flag to clearly identify the publications that were successful. If "published" then the targetUrl key should be defined, If "error" then the error key should be defined.
                enum:
                  - waiting
                  - published
                  - error
                  - deleted
              publishedAt:
                type: string
                description: Date of the last update for this publication
                format: date-time
              error:
                type: string
              targetUrl:
                type: string
              result:
                type: object
                description: The result of pushing the publication. The structure of this object is permissive and depends on the type of catalog
              addToDataset:
                type: object
                description: Fill this object to create a new resource (or community resource) to an existing dataset.
                properties:
                  id:
                    type: string
                  title:
                    type: string
              replaceDataset:
                type: object
                description: Fill this object to overwrite an existing dataset.
                properties:
                  id:
                    type: string
                  title:
                    type: string
        publicationSites:
          type:
            - 'null'
            - array
          description: References to all sites the dataset is exposed in.
          items:
            type: string
        requestedPublicationSites:
          type:
            - 'null'
            - array
          description: References to all sites the dataset would be exposed in if validated by an admin.
          items:
            type: string
        virtual:
          type:
            - 'null'
            - object
          description: A configuration object dedicated to virtual datasets.
          required:
            - children
          properties:
            children:
              type: array
              description: Array of ids of the children datasets
              items:
                type: string
            filters:
              type: array
              description: Array of static filters to always apply when querying the dataset
              items:
                type: object
                required:
                  - key
                  - values
                properties:
                  key:
                    type: string
                    description: Key of the field in the schema
                  values:
                    type: array
                    items:
                      type: string
            filterActiveAccount:
              type: boolean
        rest:
          type:
            - 'null'
            - object
          description: A configuration object dedicated to REST datasets.
          properties:
            ttl:
              type: object
              properties:
                active:
                  type: boolean
                prop:
                  type: string
                checkedAt:
                  type: string
                  format: date-time
                  readOnly: true
                delay:
                  type: object
                  properties:
                    value:
                      type: integer
                      default: 0
                    unit:
                      type: string
                      enum:
                        - hours
                        - days
                        - weeks
                        - months
                      default: days
            history:
              type: boolean
              default: false
              description: Set to true to let data-fair store revisions of the lines in the dataset.
            historyTTL:
              type: object
              additionalProperties: false
              properties:
                active:
                  type: boolean
                delay:
                  type: object
                  additionalProperties: false
                  properties:
                    value:
                      type: integer
                      default: 0
                    unit:
                      type: string
                      enum:
                        - hours
                        - days
                        - weeks
                        - months
                      default: days
            lineOwnership:
              type: boolean
            storeUpdatedBy:
              type: boolean
            primaryKeyMode:
              type: string
              enum:
                - base64
                - sha256
        extras:
          type:
            - 'null'
            - object
          description: An object for extra content from client services of data-fair
        attachmentsAsImage:
          type:
            - 'null'
            - boolean
          default: false
          description: Set to true to use attached files as illustrations of the line
        projection:
          type:
            - 'null'
            - object
          description: The cartographic projection of this dataset. Refers to the list of supported projections in contract/projections.json
          properties:
            title:
              type: string
            code:
              type: string
        attachments:
          type:
            - 'null'
            - array
          items:
            type: object
            required:
              - title
            properties:
              title:
                type: string
                title: Titre
                x-props:
                  outlined: true
                  dense: true
              description:
                type: string
                title: Description
                x-display: markdown
              includeInCatalogPublications:
                type: boolean
                title: Inclure dans les publications sur catalogue
                default: false
            oneOf:
              - title: Fichier
                required:
                  - name
                properties:
                  type:
                    title: Type de pièce jointe
                    const: file
                  name:
                    x-display: hidden
                    type: string
                    description: Name of the file that was used to create or update this attachment
                  size:
                    x-display: hidden
                    type: number
                    description: Size of the file on disk
                  mimetype:
                    x-display: hidden
                    type: string
                    description: Mime type of the file
                  updatedAt:
                    x-display: hidden
                    type: string
                    description: Date of the last update for this attachment
                    format: date-time
                  url:
                    x-display: hidden
                    readOnly: true
                    type: string
                    title: URL
              - title: Lien
                required:
                  - url
                properties:
                  type:
                    title: Type de pièce jointe
                    const: url
                  url:
                    type: string
                    title: URL
              - title: Fichier récupéré depuis une URL
                required:
                  - name
                properties:
                  type:
                    title: Type de pièce jointe
                    const: remoteFile
                  name:
                    type: string
                    title: Nom du fichier
                    description: Ce nom doit contenir l'extension qui doit correspondre au format du fichier téléchargé.
                    x-rules:
                      - hasExtension
                  targetUrl:
                    type: string
                    title: URL de téléchargement
                    description: Cette URL n'est pas consultable après écriture. Elle est utilisée pour télécharger le fichier depuis un service distant et peut contenir un secret. Vous pouvez la laisser vide quand vous modifiez les autres informations, mais vous devez la renseigner de nouveau si vous changez le nom de fichier.
        topics:
          type:
            - 'null'
            - array
          title: Liste de thématiques
          x-itemTitle: title
          items:
            type: object
            additionalProperties: false
            required:
              - title
            properties:
              id:
                type: string
                readOnly: true
                x-display: hidden
              title:
                type: string
              color:
                type: string
                x-display: color-picker
              icon:
                title: Icône
                description: Il est possible de consulter plus facilement la liste des icones disponibles sur <a href="https://materialdesignicons.com" target="_blank">ce site</a>.
                type: object
                x-fromUrl: https://koumoul.com/data-fair/api/v1/datasets/icons-mdi-latest/lines?q={q}
                x-itemKey: name
                x-itemTitle: name
                x-itemIcon: name
                x-itemsProp: results
                properties:
                  name:
                    type: string
                  svg:
                    type: string
        thumbnails:
          type:
            - 'null'
            - object
          properties:
            resizeMode:
              type: string
              description: Define how the thumbnails will be adapted to the size requested by visualizations
              enum:
                - crop
                - smartCrop
                - fitIn
              default: crop
        masterData:
          type:
            - 'null'
            - object
          title: Données de référence
          properties:
            bulkSearchs:
              type: array
              title: Récupération de lignes en masse
              x-class: my-4
              x-options:
                editMode: dialog
              items:
                type: object
                required:
                  - title
                properties:
                  id:
                    type: string
                    title: Identifiant
                    x-if: parent.value.id
                    readOnly: true
                  title:
                    type: string
                    title: Titre
                    x-props:
                      placeholder: exemple "récupérer les informations de plusieurs produits"
                    minLength: 3
                  description:
                    type: string
                    title: Description
                    x-display: textarea
                    x-props:
                      placeholder: exemple "cet enrichissement vous permet de récupérer les informations de plusieurs produits à partir d'une liste de codes produits."
                  filters:
                    type: array
                    title: Filtres statiques
                    x-class: mb-4
                    x-options:
                      editMode: inline
                    items:
                      type: object
                      required:
                        - property
                        - values
                      properties:
                        property:
                          type: object
                          title: Propriété sur laquelle appliquer le filtre
                          x-fromData: context.filterProperties
                          x-itemTitle: title
                          x-itemKey: key
                        values:
                          type: array
                          title: Valeurs
                          items:
                            type: string
                  input:
                    type: array
                    title: Méthodes de correspondance
                    x-class: mb-4
                    minItems: 1
                    x-options:
                      editMode: inline
                    items:
                      type: object
                      required:
                        - type
                        - property
                      oneOf:
                        - title: Valeurs exactement égales
                          required:
                            - type
                            - property
                          properties:
                            type:
                              type: string
                              const: equals
                              title: Type de méthode de correspondance
                            property:
                              type: object
                              title: Propriété comparée
                              x-fromData: context.propertiesWithConcepts
                              x-itemTitle: title
                              x-itemKey: key
                        - title: Date dans un interval
                          x-if: context.hasDateIntervalConcepts
                          properties:
                            type:
                              type: string
                              const: date-in-interval
                            property:
                              type: object
                              title: Date à renseigner
                              properties:
                                x-refersTo:
                                  type: string
                                  const: http://schema.org/Date
                                key:
                                  type: string
                                  const: _date
                                type:
                                  type: string
                                  const: string
                                format:
                                  type: string
                                  const: date-time
                        - title: Coordonnée géographique à proximité
                          x-if: context.dataset.bbox
                          required:
                            - type
                            - distance
                          properties:
                            type:
                              type: string
                              const: geo-distance
                            distance:
                              type: integer
                              title: Distance
                              default: 0
                            property:
                              type: object
                              title: Point à renseigner
                              properties:
                                x-refersTo:
                                  type: string
                                  const: http://www.w3.org/2003/01/geo/wgs84_pos#lat_long
                                key:
                                  type: string
                                  const: _geopoint
                                type:
                                  type: string
                                  const: string
                  sort:
                    type: string
                    title: Tri pour choisir parmi des résultats ambigus
                    description: |-

                      Remarque : ce paramètre est optionnel et utile uniquement si la manière d'établir une correspondance est susceptible de retourner plusieurs résultats par ligne.

                      Le tri est exprimé sous forme d'une liste de clés de colonnes séparées par des virgules. Par défaut le tri est ascendant, si un nom de colonne est préfixé par un "-" alors le tri sera descendant.

                      Exemple: ma_colonne,-ma_colonne2
            singleSearchs:
              type: array
              title: Recherche de paires code / libellé
              x-class: mb-4
              x-options:
                editMode: dialog
              items:
                type: object
                required:
                  - title
                  - output
                properties:
                  id:
                    type: string
                    title: Identifiant
                    x-if: parent.value.id
                    readOnly: true
                  title:
                    type: string
                    title: Titre
                    x-props:
                      placeholder: exemple "recherche d'un produit"
                    minLength: 3
                  description:
                    type: string
                    title: Description
                    x-display: textarea
                    x-props:
                      placeholder: exemple "récupérez un code produit en effectuant une recherche dans son code ou son libellé"
                  output:
                    type: object
                    title: Propriété à retourner (code)
                    x-fromData: context.propertiesWithConcepts
                    x-itemTitle: title
                    x-itemKey: key
                  label:
                    type: object
                    title: Propriété utilisée pour la recherche (libellé)
                    x-fromData: context.stringProperties
                    x-itemTitle: title
                    x-itemKey: key
                  filters:
                    type: array
                    title: Filtres statiques
                    x-class: mb-4
                    x-options:
                      editMode: inline
                    items:
                      type: object
                      required:
                        - property
                        - values
                      properties:
                        property:
                          type: object
                          title: Propriété sur laquelle appliquer le filtre
                          x-fromData: context.filterProperties
                          x-itemTitle: title
                          x-itemKey: key
                        values:
                          type: array
                          title: Valeurs
                          items:
                            type: string
            virtualDatasets:
              type: object
              x-class: mt-4
              properties:
                active:
                  type: boolean
                  title: Création de jeux virtuels
            standardSchema:
              type: object
              x-class: mt-4
              properties:
                active:
                  type: boolean
                  title: Initialisation de jeux éditables
        primaryKey:
          type:
            - 'null'
            - array
          description: List of properties of the schema used as unique primary key for each line
          items:
            type: string
        exports:
          type:
            - 'null'
            - object
          properties:
            restToCSV:
              type: object
              properties:
                active:
                  type: boolean
                  default: false
                nextExport:
                  type: string
                  format: date-time
                lastExport:
                  type: object
                  properties:
                    date:
                      type: string
                      format: date-time
        spatial:
          type:
            - 'null'
            - string
          description: spatial coverage
        temporal:
          type:
            - 'null'
            - object
          description: temporal coverage
          properties:
            start:
              type: string
              format: date
            end:
              type: string
              format: date
        frequency:
          type:
            - 'null'
            - string
          description: update frequency
          enum:
            - ''
            - triennial
            - biennial
            - annual
            - semiannual
            - threeTimesAYear
            - quarterly
            - bimonthly
            - monthly
            - semimonthly
            - biweekly
            - threeTimesAMonth
            - weekly
            - semiweekly
            - threeTimesAWeek
            - daily
            - continuous
            - irregular
        keywords:
          type:
            - 'null'
            - array
          description: keywords
          items:
            type: string
        analysis:
          type:
            - 'null'
            - object
          additionalProperties: false
          properties:
            escapeKeyAlgorithm:
              type: string
              default: slug
              enum:
                - legacy
                - slug
        remoteFile:
          type:
            - 'null'
            - object
          additionalProperties: true
          required:
            - url
          properties:
            name:
              type: string
              description: Name of the remote file that was used to create or update this dataset
            url:
              type: string
              description: Url from where the file can be fetched
            catalog:
              type: string
              description: Identifiant du catalogue d'origine
            size:
              type: number
              description: Size of the file on disk
            mimetype:
              type: string
              description: Mime type of the file
            etag:
              type: string
              description: content of the "etag" response header if it was provided
            lastModified:
              type: string
              description: content of the "last-modified" response header if it was provided
            autoUpdate:
              type: object
              properties:
                active:
                  type: boolean
                  default: false
                nextUpdate:
                  type: string
                  format: date-time
                lastUpdate:
                  type: string
                  format: date-time
            forceUpdate:
              type: boolean
        readApiKey:
          type:
            - 'null'
            - object
          additionalProperties: false
          properties:
            active:
              type: boolean
              title: Activer l'accès par clé d'API
            interval:
              type: string
              title: Durée de validité des clés
              oneOf:
                - const: P1W
                  title: 1 semaine
                - const: P1M
                  title: 1 mois
                - const: P1Y
                  title: 1 année
            expiresAt:
              type: string
              format: date-time
              readOnly: true
              x-display: hidden
            renewAt:
              type: string
              format: date-time
              readOnly: true
              x-display: hidden
    datasetPost:
      title: Dataset post
      type: object
      additionalProperties: false
      properties:
        body:
          title: Dataset JSON body
          type: object
          additionalProperties: false
          properties:
            schema:
              type:
                - 'null'
                - array
              description: JSON schema properties of the fields
              items:
                type: object
                required:
                  - key
                properties:
                  key:
                    type: string
                    readOnly: true
                    x-display: hidden
                  type:
                    type: string
                  format:
                    type:
                      - string
                      - 'null'
                  x-originalName:
                    type:
                      - string
                      - 'null'
                  title:
                    type: string
                  description:
                    type: string
                  icon:
                    type: string
                  x-group:
                    type: string
                  x-refersTo:
                    deprecated: true
                    type:
                      - string
                      - 'null'
                  x-concept:
                    type: object
                    properties:
                      id:
                        type: string
                      title:
                        type: string
                      primary:
                        type: boolean
                  x-calculated:
                    type: boolean
                  x-capabilities:
                    type: object
                    properties:
                      index:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Filtrable sur valeur exacte
                        description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels des filtres sur valeurs exactes ont peu de sens.
                      values:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Triable et groupable
                        description: Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels trier ou grouper par valeur a peu de sens.
                      textStandard:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Texte analysé pour recherche textuelle
                        description: Désactivez cette capacité dans le cas d'un code, une url, etc. N'importe quel contenu sur lequel la recherche de mots a peu de sens.
                      text:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Texte analysé spécifiquement pour la langue française
                        description: Désactivez cette capacité pour tout contenu qui n'est pas en langue française ou pour lequel la recherche de mots a peu de sens.
                      textAgg:
                        type: boolean
                        default: false
                        x-display: switch
                        title: Statistiques de mots
                        description: Activez cette capacité si avez l'intention d'obtenir des statistiques sur les occurrences de mots (par exemple pour construire un nuage de mot).
                      wildcard:
                        type: boolean
                        default: false
                        x-display: switch
                        title: Texte filtrable sur groupe de caractères
                        description: Activez cette capacité si vous avez l'intention de filtrer ce contenu spécifiquement sur une suite de caractères (par exemple si un filtre sur mots entiers ou sur valeur exacte ne convient pas).
                      insensitive:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Tri amélioré avec casse et accents
                        description: Désactivez cette capacité si le contenu ne sera pas utilisé pour du tri ou bien si il ne contient pas de variations avec accents et majuscules.
                      geoShape:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Formes géométriques complexes
                        description: Désactivez cette capacité si la donnée ne contient que des géométries basiques de points ou bien si requêter les géométries uniquement à partir de leurs centroïdes est suffisant pour vos besoins.
                      indexAttachment:
                        type: boolean
                        default: true
                        x-display: switch
                        title: Contenu des pièces jointes analysé pour recherche textuelle
                        description: Désactivez cette option si vous souhaitez que les pièces jointes soient simplement téléchargeables et que l'extraction de leur contenu textuel pour recherche de mots n'est pas pertinente.
                  x-labels:
                    type: object
                  x-labelsRestricted:
                    type: boolean
                  readOnly:
                    type: boolean
                  x-required:
                    type: boolean
                  minLength:
                    type: integer
                  maxLength:
                    type: integer
                  minimum:
                    type: number
                  maximum:
                    type: number
                  pattern:
                    type: string
                    format: regex
                  x-master:
                    type: object
                    properties:
                      id:
                        type: string
                      title:
                        type: string
                      remoteService:
                        type: string
                        description: L'identifiant du service distant utilisé pour l'enrichissement
                      action:
                        type: string
                        description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
                  x-display:
                    type: string
                  enum:
                    type: array
                    readOnly: true
                    description: This differs from JSON schema. It is not a restriction, just and observation of the values that are present in the dataset.
                  x-cardinality:
                    type: integer
                    description: The number of distinct values for this field
                    readOnly: true
                  x-transform:
                    type: object
                    description: Transformation to apply to the field
                    properties:
                      expr:
                        type: string
                      examples:
                        type: array
                        items:
                          type: string
                      type:
                        type: string
                      format:
                        type: string
            description:
              type:
                - 'null'
                - string
              description: Detailed description of the dataset
            title:
              type:
                - 'null'
                - string
              description: Short title of the dataset
            slug:
              type:
                - 'null'
                - string
              description: Identifier of the dataset, usually a slug for URL readability (unique inside the tenant)
            license:
              type:
                - 'null'
                - object
              additionalProperties: false
              required:
                - title
                - href
              properties:
                title:
                  type: string
                  description: Short title for the license
                href:
                  type: string
                  description: The URL where the license can be read
            origin:
              type:
                - 'null'
                - string
              description: The URL where the original data can be found
            image:
              type:
                - 'null'
                - string
              description: URL d'une image, illustration du jeu de données
            extensions:
              type:
                - 'null'
                - array
              description: Définition des enrichissements appliqués à ce jeu de données
              items:
                type: object
                properties:
                  active:
                    type: boolean
                    description: Toggle on and off the extension
                  needsUpdate:
                    type: boolean
                  autoUpdate:
                    type: boolean
                  nextUpdate:
                    type: string
                    format: date-time
                oneOf:
                  - required:
                      - type
                      - expr
                      - property
                    properties:
                      type:
                        type: string
                        const: exprEval
                      expr:
                        type: string
                      property:
                        type: object
                        required:
                          - key
                          - type
                        properties:
                          key:
                            type: string
                          type:
                            type: string
                  - required:
                      - type
                      - remoteService
                      - action
                    properties:
                      type:
                        type: string
                        const: remoteService
                      remoteService:
                        type: string
                        description: L'identifiant du service distant utilisé pour l'enrichissement
                      action:
                        type: string
                        description: L'identifiant de l'action du service distant à utiliser pour l'enrichissement
                      select:
                        type: array
                        description: La liste des colonnes à sélectionner dans le retour du service distant. Toutes les colonnes si absent ou vide.
                        items:
                          type: string
                      shortId:
                        type: string
                        description: Id court (déprécié)
                        readOnly: true
                      propertyPrefix:
                        type: string
                        description: Chaine à utiliser comme préfixe des clés de champs issus de cette extension
            publications:
              type:
                - 'null'
                - array
              description: References to all the catalogs the dataset metadata is published too
              items:
                type: object
                required:
                  - catalog
                  - status
                additionalProperties: false
                properties:
                  id:
                    type: string
                  catalog:
                    type: string
                    description: L'identifiant du catalogue de destination de cette publication.
                  status:
                    type: string
                    description: A simple flag to clearly identify the publications that were successful. If "published" then the targetUrl key should be defined, If "error" then the error key should be defined.
                    enum:
                      - waiting
                      - published
                      - error
                      - deleted
                  publishedAt:
                    type: string
                    description: Date of the last update for this publication
                    format: date-time
                  error:
                    type: string
                  targetUrl:
                    type: string
                  result:
                    type: object
                    description: The result of pushing the publication. The structure of this object is permissive and depends on the type of catalog
                  addToDataset:
                    type: object
                    description: Fill this object to create a new resource (or community resource) to an existing dataset.
                    properties:
                      id:
                        type: string
                      title:
                        type: string
                  replaceDataset:
                    type: object
                    description: Fill this object to overwrite an existing dataset.
                    properties:
                      id:
                        type: string
                      title:
                        type: string
            publicationSites:
              type:
                - 'null'
                - array
              description: References to all sites the dataset is exposed in.
              items:
                type: string
            requestedPublicationSites:
              type:
                - 'null'
                - array
              description: References to all sites the dataset would be exposed in if validated by an admin.
              items:
                type: string
            virtual:
              type:
                - 'null'
                - object
              description: A configuration object dedicated to virtual datasets.
              required:
                - children
              properties:
                children:
                  type: array
                  description: Array of ids of the children datasets
                  items:
                    type: string
                filters:
                  type: array
                  description: Array of static filters to always apply when querying the dataset
                  items:
                    type: object
                    required:
                      - key
                      - values
                    properties:
                      key:
                        type: string
                        description: Key of the field in the schema
                      values:
                        type: array
                        items:
                          type: string
                filterActiveAccount:
                  type: boolean
            rest:
              type:
                - 'null'
                - object
              description: A configuration object dedicated to REST datasets.
              properties:
                ttl:
                  type: object
                  properties:
                    active:
                      type: boolean
                    prop:
                      type: string
                    checkedAt:
                      type: string
                      format: date-time
                      readOnly: true
                    delay:
                      type: object
                      properties:
                        value:
                          type: integer
                          default: 0
                        unit:
                          type: string
                          enum:
                            - hours
                            - days
                            - weeks
                            - months
                          default: days
                history:
                  type: boolean
                  default: false
                  description: Set to true to let data-fair store revisions of the lines in the dataset.
                historyTTL:
                  type: object
                  additionalProperties: false
                  properties:
                    active:
                      type: boolean
                    delay:
                      type: object
                      additionalProperties: false
                      properties:
                        value:
                          type: integer
                          default: 0
                        unit:
                          type: string
                          enum:
                            - hours
                            - days
                            - weeks
                            - months
                          default: days
                lineOwnership:
                  type: boolean
                storeUpdatedBy:
                  type: boolean
                primaryKeyMode:
                  type: string
                  enum:
                    - base64
                    - sha256
            extras:
              type:
                - 'null'
                - object
              description: An object for extra content from client services of data-fair
            attachmentsAsImage:
              type:
                - 'null'
                - boolean
              default: false
              description: Set to true to use attached files as illustrations of the line
            projection:
              type:
                - 'null'
                - object
              description: The cartographic projection of this dataset. Refers to the list of supported projections in contract/projections.json
              properties:
                title:
                  type: string
                code:
                  type: string
            attachments:
              type:
                - 'null'
                - array
              items:
                type: object
                required:
                  - title
                properties:
                  title:
                    type: string
                    title: Titre
                    x-props:
                      outlined: true
                      dense: true
                  description:
                    type: string
                    title: Description
                    x-display: markdown
                  includeInCatalogPublications:
                    type: boolean
                    title: Inclure dans les publications sur catalogue
                    default: false
                oneOf:
                  - title: Fichier
                    required:
                      - name
                    properties:
                      type:
                        title: Type de pièce jointe
                        const: file
                      name:
                        x-display: hidden
                        type: string
                        description: Name of the file that was used to create or update this attachment
                      size:
                        x-display: hidden
                        type: number
                        description: Size of the file on disk
                      mimetype:
                        x-display: hidden
                        type: string
                        description: Mime type of the file
                      updatedAt:
                        x-display: hidden
                        type: string
                        description: Date of the last update for this attachment
                        format: date-time
                      url:
                        x-display: hidden
                        readOnly: true
                        type: string
                        title: URL
                  - title: Lien
                    required:
                      - url
                    properties:
                      type:
                        title: Type de pièce jointe
                        const: url
                      url:
                        type: string
                        title: URL
                  - title: Fichier récupéré depuis une URL
                    required:
                      - name
                    properties:
                      type:
                        title: Type de pièce jointe
                        const: remoteFile
                      name:
                        type: string
                        title: Nom du fichier
                        description: Ce nom doit contenir l'extension qui doit correspondre au format du fichier téléchargé.
                        x-rules:
                          - hasExtension
                      targetUrl:
                        type: string
                        title: URL de téléchargement
                        description: Cette URL n'est pas consultable après écriture. Elle est utilisée pour télécharger le fichier depuis un service distant et peut contenir un secret. Vous pouvez la laisser vide quand vous modifiez les autres informations, mais vous devez la renseigner de nouveau si vous changez le nom de fichier.
            topics:
              type:
                - 'null'
                - array
              title: Liste de thématiques
              x-itemTitle: title
              items:
                type: object
                additionalProperties: false
                required:
                  - title
                properties:
                  id:
                    type: string
                    readOnly: true
                    x-display: hidden
                  title:
                    type: string
                  color:
                    type: string
                    x-display: color-picker
                  icon:
                    title: Icône
                    description: Il est possible de consulter plus facilement la liste des icones disponibles sur <a href="https://materialdesignicons.com" target="_blank">ce site</a>.
                    type: object
                    x-fromUrl: https://koumoul.com/data-fair/api/v1/datasets/icons-mdi-latest/lines?q={q}
                    x-itemKey: name
                    x-itemTitle: name
                    x-itemIcon: name
                    x-itemsProp: results
                    properties:
                      name:
                        type: string
                      svg:
                        type: string
            thumbnails:
              type:
                - 'null'
                - object
              properties:
                resizeMode:
                  type: string
                  description: Define how the thumbnails will be adapted to the size requested by visualizations
                  enum:
                    - crop
                    - smartCrop
                    - fitIn
                  default: crop
            masterData:
              type:
                - 'null'
                - object
              title: Données de référence
              properties:
                bulkSearchs:
                  type: array
                  title: Récupération de lignes en masse
                  x-class: my-4
                  x-options:
                    editMode: dialog
                  items:
                    type: object
                    required:
                      - title
                    properties:
                      id:
                        type: string
                        title: Identifiant
                        x-if: parent.value.id
                        readOnly: true
                      title:
                        type: string
                        title: Titre
                        x-props:
                          placeholder: exemple "récupérer les informations de plusieurs produits"
                        minLength: 3
                      description:
                        type: string
                        title: Description
                        x-display: textarea
                        x-props:
                          placeholder: exemple "cet enrichissement vous permet de récupérer les informations de plusieurs produits à partir d'une liste de codes produits."
                      filters:
                        type: array
                        title: Filtres statiques
                        x-class: mb-4
                        x-options:
                          editMode: inline
                        items:
                          type: object
                          required:
                            - property
                            - values
                          properties:
                            property:
                              type: object
                              title: Propriété sur laquelle appliquer le filtre
                              x-fromData: context.filterProperties
                              x-itemTitle: title
                              x-itemKey: key
                            values:
                              type: array
                              title: Valeurs
                              items:
                                type: string
                      input:
                        type: array
                        title: Méthodes de correspondance
                        x-class: mb-4
                        minItems: 1
                        x-options:
                          editMode: inline
                        items:
                          type: object
                          required:
                            - type
                            - property
                          oneOf:
                            - title: Valeurs exactement égales
                              required:
                                - type
                                - property
                              properties:
                                type:
                                  type: string
                                  const: equals
                                  title: Type de méthode de correspondance
                                property:
                                  type: object
                                  title: Propriété comparée
                                  x-fromData: context.propertiesWithConcepts
                                  x-itemTitle: title
                                  x-itemKey: key
                            - title: Date dans un interval
                              x-if: context.hasDateIntervalConcepts
                              properties:
                                type:
                                  type: string
                                  const: date-in-interval
                                property:
                                  type: object
                                  title: Date à renseigner
                                  properties:
                                    x-refersTo:
                                      type: string
                                      const: http://schema.org/Date
                                    key:
                                      type: string
                                      const: _date
                                    type:
                                      type: string
                                      const: string
                                    format:
                                      type: string
                                      const: date-time
                            - title: Coordonnée géographique à proximité
                              x-if: context.dataset.bbox
                              required:
                                - type
                                - distance
                              properties:
                                type:
                                  type: string
                                  const: geo-distance
                                distance:
                                  type: integer
                                  title: Distance
                                  default: 0
                                property:
                                  type: object
                                  title: Point à renseigner
                                  properties:
                                    x-refersTo:
                                      type: string
                                      const: http://www.w3.org/2003/01/geo/wgs84_pos#lat_long
                                    key:
                                      type: string
                                      const: _geopoint
                                    type:
                                      type: string
                                      const: string
                      sort:
                        type: string
                        title: Tri pour choisir parmi des résultats ambigus
                        description: |-

                          Remarque : ce paramètre est optionnel et utile uniquement si la manière d'établir une correspondance est susceptible de retourner plusieurs résultats par ligne.

                          Le tri est exprimé sous forme d'une liste de clés de colonnes séparées par des virgules. Par défaut le tri est ascendant, si un nom de colonne est préfixé par un "-" alors le tri sera descendant.

                          Exemple: ma_colonne,-ma_colonne2
                singleSearchs:
                  type: array
                  title: Recherche de paires code / libellé
                  x-class: mb-4
                  x-options:
                    editMode: dialog
                  items:
                    type: object
                    required:
                      - title
                      - output
                    properties:
                      id:
                        type: string
                        title: Identifiant
                        x-if: parent.value.id
                        readOnly: true
                      title:
                        type: string
                        title: Titre
                        x-props:
                          placeholder: exemple "recherche d'un produit"
                        minLength: 3
                      description:
                        type: string
                        title: Description
                        x-display: textarea
                        x-props:
                          placeholder: exemple "récupérez un code produit en effectuant une recherche dans son code ou son libellé"
                      output:
                        type: object
                        title: Propriété à retourner (code)
                        x-fromData: context.propertiesWithConcepts
                        x-itemTitle: title
                        x-itemKey: key
                      label:
                        type: object
                        title: Propriété utilisée pour la recherche (libellé)
                        x-fromData: context.stringProperties
                        x-itemTitle: title
                        x-itemKey: key
                      filters:
                        type: array
                        title: Filtres statiques
                        x-class: mb-4
                        x-options:
                          editMode: inline
                        items:
                          type: object
                          required:
                            - property
                            - values
                          properties:
                            property:
                              type: object
                              title: Propriété sur laquelle appliquer le filtre
                              x-fromData: context.filterProperties
                              x-itemTitle: title
                              x-itemKey: key
                            values:
                              type: array
                              title: Valeurs
                              items:
                                type: string
                virtualDatasets:
                  type: object
                  x-class: mt-4
                  properties:
                    active:
                      type: boolean
                      title: Création de jeux virtuels
                standardSchema:
                  type: object
                  x-class: mt-4
                  properties:
                    active:
                      type: boolean
                      title: Initialisation de jeux éditables
            primaryKey:
              type:
                - 'null'
                - array
              description: List of properties of the schema used as unique primary key for each line
              items:
                type: string
            exports:
              type:
                - 'null'
                - object
              properties:
                restToCSV:
                  type: object
                  properties:
                    active:
                      type: boolean
                      default: false
                    nextExport:
                      type: string
                      format: date-time
                    lastExport:
                      type: object
                      properties:
                        date:
                          type: string
                          format: date-time
            spatial:
              type:
                - 'null'
                - string
              description: spatial coverage
            temporal:
              type:
                - 'null'
                - object
              description: temporal coverage
              properties:
                start:
                  type: string
                  format: date
                end:
                  type: string
                  format: date
            frequency:
              type:
                - 'null'
                - string
              description: update frequency
              enum:
                - ''
                - triennial
                - biennial
                - annual
                - semiannual
                - threeTimesAYear
                - quarterly
                - bimonthly
                - monthly
                - semimonthly
                - biweekly
                - threeTimesAMonth
                - weekly
                - semiweekly
                - threeTimesAWeek
                - daily
                - continuous
                - irregular
            keywords:
              type:
                - 'null'
                - array
              description: keywords
              items:
                type: string
            analysis:
              type:
                - 'null'
                - object
              additionalProperties: false
              properties:
                escapeKeyAlgorithm:
                  type: string
                  default: slug
                  enum:
                    - legacy
                    - slug
            remoteFile:
              type: object
              additionalProperties: true
              required:
                - url
              properties:
                name:
                  type: string
                  description: Name of the remote file that was used to create or update this dataset
                url:
                  type: string
                  description: Url from where the file can be fetched
                catalog:
                  type: string
                  description: Identifiant du catalogue d'origine
                size:
                  type: number
                  description: Size of the file on disk
                mimetype:
                  type: string
                  description: Mime type of the file
                etag:
                  type: string
                  description: content of the "etag" response header if it was provided
                lastModified:
                  type: string
                  description: content of the "last-modified" response header if it was provided
                autoUpdate:
                  type: object
                  properties:
                    active:
                      type: boolean
                      default: false
                    nextUpdate:
                      type: string
                      format: date-time
                    lastUpdate:
                      type: string
                      format: date-time
                forceUpdate:
                  type: boolean
            readApiKey:
              type:
                - 'null'
                - object
              additionalProperties: false
              properties:
                active:
                  type: boolean
                  title: Activer l'accès par clé d'API
                interval:
                  type: string
                  title: Durée de validité des clés
                  oneOf:
                    - const: P1W
                      title: 1 semaine
                    - const: P1M
                      title: 1 mois
                    - const: P1Y
                      title: 1 année
                expiresAt:
                  type: string
                  format: date-time
                  readOnly: true
                  x-display: hidden
                renewAt:
                  type: string
                  format: date-time
                  readOnly: true
                  x-display: hidden
            initFrom:
              type: object
              additionalProperties: false
              required:
                - dataset
                - parts
              properties:
                dataset:
                  type: string
                parts:
                  type: array
                  items:
                    type: string
                    enum:
                      - data
                      - description
                      - schema
                      - metadataAttachments
                      - primaryKey
                      - extensions
            isVirtual:
              type: boolean
              default: false
              description: Used to identify virtual datasets. A virtual datasets does not have data, only references to other datasets.
            isRest:
              type: boolean
              default: false
              description: Used to identify REST datasets. A REST dataset is not created from a data file, but instead is based on a dynamic collection in a database.
            isMetaOnly:
              type: boolean
              default: false
              description: Used to identify datasets without any local data and only some metadata.
            owner:
              type: object
              additionalProperties: false
              required:
                - type
                - id
              properties:
                type:
                  type: string
                  enum:
                    - user
                    - organization
                  description: If the owner is a user or an organization
                id:
                  type: string
                  description: The unique id of the user or organization
                name:
                  type: string
                  description: The display name of the user or organization
                role:
                  type: string
                  deprecated: true
                  description: DEPRECATED - If this is set and owner is an organization, this restrict ownership to users of this organization having this role or admin role
                department:
                  type: string
                  description: If this is set and owner is an organization, this gives ownership to users of this organization that belong to this department
                departmentName:
                  type: string
                  description: The display name of the department
        file:
          type: string
          format: binary
        attachments:
          type: string
          format: binary
    remoteService:
      title: Remote service
      description: A remote service must be described with the openAPI 3.0 specification. If the API is secured, there must be at least one api-key based security scheme available.
      type: object
      additionalProperties: false
      required:
        - apiDoc
        - title
      properties:
        id:
          type: string
          description: Identifier of the configuration for an remote service
        href:
          type: string
          description: Readonly field. The URL where this resource can be fetched
        page:
          type: string
          description: Readonly field. The URL where this resource can be viewed in the UI
        title:
          type: string
          description: Short title of the configuration for an remote service
        description:
          type: string
          description: Detailed description of the configuration for an remote service
        apiDoc:
          type: object
        url:
          type: string
          description: The url to fetch the apiDoc. Can be used for refresh purpose
        apiKey:
          type: object
          additionalProperties: false
          required:
            - in
          properties:
            in:
              type: string
              enum:
                - query
                - header
                - cookie
              description: Where the api key is located
            name:
              type: string
              description: Identifier of the owner of this configuration for an remote service
            value:
              type: string
              description: The value of the required api key
        server:
          type: string
          description: URL of the selected server in the apiDoc servers property
        actions:
          type: array
        virtualDatasets:
          type: object
          properties:
            active:
              type: boolean
              title: Proposer la création de jeux virtuels
            parent:
              type: object
              properties:
                id:
                  type: string
                title:
                  type: string
            storageRatio:
              type: number
              default: 0
              minimum: 0
              maximum: 1
        standardSchema:
          type: object
          properties:
            active:
              type: boolean
              title: Proposer la création de jeux virtuels
            parent:
              type: object
              properties:
                id:
                  type: string
                title:
                  type: string
        public:
          type: boolean
        privateAccess:
          type: array
          items:
            type: object
            additionalProperties: false
            required:
              - type
              - id
            properties:
              type:
                type: string
                enum:
                  - user
                  - organization
                description: If the owner is a user or an organization
              id:
                type: string
                description: The unique id of the user or organization
              name:
                type: string
                description: The display name of the user or organization
              role:
                type: string
                deprecated: true
                description: DEPRECATED - If this is set and owner is an organization, this restrict ownership to users of this organization having this role or admin role
              department:
                type: string
                description: If this is set and owner is an organization, this gives ownership to users of this organization that belong to this department
              departmentName:
                type: string
                description: The display name of the department
        parameters:
          type: array
          description: DEPRECATED. Some parameters name/values associations to send to all operations of the reverse proxy
          items:
            type: object
            additionalProperties: false
            required:
              - operationId
              - name
              - value
            properties:
              name:
                type: string
              operationId:
                type: string
              value:
                type: string
              x-refersTo:
                type: string
              title:
                type: string
    remoteServicePatch:
      title: Remote service patch
      type: object
      additionalProperties: false
      properties:
        apiDoc:
          type: object
        apiKey:
          type: object
          additionalProperties: false
          required:
            - in
          properties:
            in:
              type: string
              enum:
                - query
                - header
                - cookie
              description: Where the api key is located
            name:
              type: string
              description: Identifier of the owner of this configuration for an remote service
            value:
              type: string
              description: The value of the required api key
        server:
          type: string
          description: URL of the selected server in the apiDoc servers property
        description:
          type: string
          description: Detailed description of the configuration for an remote service
        title:
          type: string
          description: Short title of the configuration for an remote service
        parameters:
          type: array
          description: DEPRECATED. Some parameters name/values associations to send to all operations of the reverse proxy
          items:
            type: object
            additionalProperties: false
            required:
              - operationId
              - name
              - value
            properties:
              name:
                type: string
              operationId:
                type: string
              value:
                type: string
              x-refersTo:
                type: string
              title:
                type: string
        public:
          type: boolean
        privateAccess:
          type: array
          items:
            type: object
            additionalProperties: false
            required:
              - type
              - id
            properties:
              type:
                type: string
                enum:
                  - user
                  - organization
                description: If the owner is a user or an organization
              id:
                type: string
                description: The unique id of the user or organization
              name:
                type: string
                description: The display name of the user or organization
              role:
                type: string
                deprecated: true
                description: DEPRECATED - If this is set and owner is an organization, this restrict ownership to users of this organization having this role or admin role
              department:
                type: string
                description: If this is set and owner is an organization, this gives ownership to users of this organization that belong to this department
              departmentName:
                type: string
                description: The display name of the department
        virtualDatasets:
          type: object
          properties:
            active:
              type: boolean
              title: Proposer la création de jeux virtuels
            parent:
              type: object
              properties:
                id:
                  type: string
                title:
                  type: string
            storageRatio:
              type: number
              default: 0
              minimum: 0
              maximum: 1
    application:
      title: Application
      type: object
      additionalProperties: false
      required:
        - url
      properties:
        id:
          type: string
          description: Globally unique identifier of the application
        slug:
          type: string
          description: Identifier of the application, usually a slug for URL readability (unique inside the tenant)
        href:
          type: string
          description: Readonly field. The URL where this resource can be fetched
        page:
          type: string
          description: Readonly field. The URL where this resource can be viewed in the UI
        title:
          type: string
          description: Short title of the application
        description:
          type: string
          description: Detailed description of the application
        image:
          type: string
          description: URL d'une image, illustration du jeu de données
        applicationName:
          type: string
          description: Identifier of the origin application
        createdBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        updatedBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        createdAt:
          type: string
          description: Creation date of this application
          format: date-time
        updatedAt:
          type: string
          description: Date of the last update for this application
          format: date-time
        lastConfigured:
          type: string
          description: Date of the last validation of a configuration for this application
          format: date-time
        status:
          type: string
          enum:
            - created
            - configured-draft
            - configured
            - error
        owner:
          type: object
          additionalProperties: false
          required:
            - type
            - id
          properties:
            type:
              type: string
              enum:
                - user
                - organization
              description: If the owner is a user or an organization
            id:
              type: string
              description: The unique id of the user or organization
            name:
              type: string
              description: The display name of the user or organization
            role:
              type: string
              deprecated: true
              description: DEPRECATED - If this is set and owner is an organization, this restrict ownership to users of this organization having this role or admin role
            department:
              type: string
              description: If this is set and owner is an organization, this gives ownership to users of this organization that belong to this department
            departmentName:
              type: string
              description: The display name of the department
        configuration:
          type: object
          description: A free format configuration object used by applications. A minimal common structure is used to ensure proper linking between applications and datasets and remote services
          additionalProperties: true
          properties:
            datasets:
              type: array
              items:
                type:
                  - object
                  - 'null'
                required:
                  - href
                properties:
                  href:
                    type: string
                  key:
                    type: string
                    description: Not the id of the dataset, but a key inside this configuration object to define the role of the dataset in this context.
                  name:
                    type: string
                  applicationKeyPermissions:
                    type: object
                    description: The permissions that should be applied to users accessing this dataset through a protecte application key of this application
                    default:
                      classes:
                        - read
                    properties:
                      operations:
                        type: array
                        items:
                          type: string
                          description: API operation that can be used
                      classes:
                        type: array
                        items:
                          type: string
                          description: API permission classes that can be used
        configurationDraft:
          type: object
          description: A free format configuration object used by applications. A minimal common structure is used to ensure proper linking between applications and datasets and remote services
          additionalProperties: true
          properties:
            datasets:
              type: array
              items:
                type:
                  - object
                  - 'null'
                required:
                  - href
                properties:
                  href:
                    type: string
                  key:
                    type: string
                    description: Not the id of the dataset, but a key inside this configuration object to define the role of the dataset in this context.
                  name:
                    type: string
                  applicationKeyPermissions:
                    type: object
                    description: The permissions that should be applied to users accessing this dataset through a protecte application key of this application
                    default:
                      classes:
                        - read
                    properties:
                      operations:
                        type: array
                        items:
                          type: string
                          description: API operation that can be used
                      classes:
                        type: array
                        items:
                          type: string
                          description: API permission classes that can be used
        url:
          type: string
          deprecated: true
          description: The URL the base application is located at (replaced by baseApp.url)
        urlDraft:
          type: string
          description: The URL the base application for the draft configuration is located at (replaced by baseAppDraft.url)
        baseApp:
          type: object
          properties:
            id:
              type: string
            url:
              type: string
            meta:
              type: object
        baseAppDraft:
          type: object
          properties:
            id:
              type: string
            url:
              type: string
            meta:
              type: object
        errorMessage:
          type: string
        errorMessageDraft:
          type: string
        publications:
          type: array
          description: References to all the catalogs the application metadata is published too
          items:
            type: object
            required:
              - catalog
              - status
            additionalProperties: false
            properties:
              id:
                type: string
              catalog:
                type: string
                description: L'identifiant du catalogue de destination de cette publication.
              status:
                type: string
                description: A simple flag to clearly identify the publications that were successful. If "published" then the targetUrl key should be defined, If "error" then the error key should be defined.
                enum:
                  - waiting
                  - published
                  - error
                  - deleted
              publishedAt:
                type: string
                description: Date of the last update for this publication
                format: date-time
              error:
                type: string
              targetUrl:
                type: string
              result:
                type: object
                description: The result of pushing the publication. The structure of this object is permissive and depends on the type of catalog
        publicationSites:
          type: array
          description: References to all sites the application is exposed in.
          items:
            type: string
        requestedPublicationSites:
          type: array
          description: References to all sites the application would be exposed in if validated by an admin.
          items:
            type: string
        topics:
          type: array
          title: Liste de thématiques
          x-itemTitle: title
          items:
            type: object
            additionalProperties: false
            required:
              - title
            properties:
              id:
                type: string
                readOnly: true
                x-display: hidden
              title:
                type: string
              color:
                type: string
                x-display: color-picker
              icon:
                title: Icône
                description: Il est possible de consulter plus facilement la liste des icones disponibles sur <a href="https://materialdesignicons.com" target="_blank">ce site</a>.
                type: object
                x-fromUrl: https://koumoul.com/data-fair/api/v1/datasets/icons-mdi-latest/lines?q={q}
                x-itemKey: name
                x-itemTitle: name
                x-itemIcon: name
                x-itemsProp: results
                properties:
                  name:
                    type: string
                  svg:
                    type: string
        extras:
          type: object
          description: An object for extra content from client services of data-fair
        preferLargeDisplay:
          type: boolean
          default: false
        attachments:
          type: array
          items:
            type: object
            required:
              - title
              - name
            properties:
              title:
                type: string
                title: Titre
                x-props:
                  outlined: true
                  dense: true
              name:
                x-display: hidden
                type: string
                description: Name of the file that was used to create or update this attachment
              size:
                x-display: hidden
                type: number
                description: Size of the file on disk
              mimetype:
                x-display: hidden
                type: string
                description: Mime type of the file
              updatedAt:
                x-display: hidden
                type: string
                description: Date of the last update for this attachment
                format: date-time
              url:
                x-display: hidden
                readOnly: true
                type: string
                title: URL
        permissions:
          type: array
          items:
            type: object
            description: Permission to do the operations (identified by their id). If type and id are not set, then the operation is set to public. roles array is used only with type organization
            additionalProperties: false
            anyOf:
              - required:
                  - operations
              - required:
                  - classes
            properties:
              type:
                type: string
                enum:
                  - user
                  - organization
                description: If the entity is a user or an organization
              id:
                type: string
                description: Identifier of the entity
              name:
                type: string
                description: Name of the entity
              email:
                type: string
                description: Email of the user
              department:
                type: string
                description: Identifier of the department or "*" for any department (same as empty) or "-" for no department
              departmentName:
                type: string
                description: Name of the department
              roles:
                type: array
                items:
                  type: string
                  description: Role name
              operations:
                type: array
                items:
                  type: string
                  description: API operation that can be used
              classes:
                type: array
                items:
                  type: string
                  description: API permission classes that can be used
    applicationPatch:
      title: Application patch
      type: object
      additionalProperties: false
      properties:
        configuration:
          type:
            - 'null'
            - object
          description: A free format configuration object used by applications. A minimal common structure is used to ensure proper linking between applications and datasets and remote services
          additionalProperties: true
          properties:
            datasets:
              type: array
              items:
                type:
                  - object
                  - 'null'
                required:
                  - href
                properties:
                  href:
                    type: string
                  key:
                    type: string
                    description: Not the id of the dataset, but a key inside this configuration object to define the role of the dataset in this context.
                  name:
                    type: string
                  applicationKeyPermissions:
                    type: object
                    description: The permissions that should be applied to users accessing this dataset through a protecte application key of this application
                    default:
                      classes:
                        - read
                    properties:
                      operations:
                        type: array
                        items:
                          type: string
                          description: API operation that can be used
                      classes:
                        type: array
                        items:
                          type: string
                          description: API permission classes that can be used
        url:
          type:
            - 'null'
            - string
          deprecated: true
          description: The URL the base application is located at (replaced by baseApp.url)
        urlDraft:
          type:
            - 'null'
            - string
          description: The URL the base application for the draft configuration is located at (replaced by baseAppDraft.url)
        description:
          type:
            - 'null'
            - string
          description: Detailed description of the application
        image:
          type:
            - 'null'
            - string
          description: URL d'une image, illustration du jeu de données
        slug:
          type:
            - 'null'
            - string
          description: Identifier of the application, usually a slug for URL readability (unique inside the tenant)
        title:
          type:
            - 'null'
            - string
          description: Short title of the application
        publications:
          type:
            - 'null'
            - array
          description: References to all the catalogs the application metadata is published too
          items:
            type: object
            required:
              - catalog
              - status
            additionalProperties: false
            properties:
              id:
                type: string
              catalog:
                type: string
                description: L'identifiant du catalogue de destination de cette publication.
              status:
                type: string
                description: A simple flag to clearly identify the publications that were successful. If "published" then the targetUrl key should be defined, If "error" then the error key should be defined.
                enum:
                  - waiting
                  - published
                  - error
                  - deleted
              publishedAt:
                type: string
                description: Date of the last update for this publication
                format: date-time
              error:
                type: string
              targetUrl:
                type: string
              result:
                type: object
                description: The result of pushing the publication. The structure of this object is permissive and depends on the type of catalog
        publicationSites:
          type:
            - 'null'
            - array
          description: References to all sites the application is exposed in.
          items:
            type: string
        requestedPublicationSites:
          type:
            - 'null'
            - array
          description: References to all sites the application would be exposed in if validated by an admin.
          items:
            type: string
        extras:
          type:
            - 'null'
            - object
          description: An object for extra content from client services of data-fair
        topics:
          type:
            - 'null'
            - array
          title: Liste de thématiques
          x-itemTitle: title
          items:
            type: object
            additionalProperties: false
            required:
              - title
            properties:
              id:
                type: string
                readOnly: true
                x-display: hidden
              title:
                type: string
              color:
                type: string
                x-display: color-picker
              icon:
                title: Icône
                description: Il est possible de consulter plus facilement la liste des icones disponibles sur <a href="https://materialdesignicons.com" target="_blank">ce site</a>.
                type: object
                x-fromUrl: https://koumoul.com/data-fair/api/v1/datasets/icons-mdi-latest/lines?q={q}
                x-itemKey: name
                x-itemTitle: name
                x-itemIcon: name
                x-itemsProp: results
                properties:
                  name:
                    type: string
                  svg:
                    type: string
        preferLargeDisplay:
          type:
            - 'null'
            - boolean
          default: false
        attachments:
          type:
            - 'null'
            - array
          items:
            type: object
            required:
              - title
              - name
            properties:
              title:
                type: string
                title: Titre
                x-props:
                  outlined: true
                  dense: true
              name:
                x-display: hidden
                type: string
                description: Name of the file that was used to create or update this attachment
              size:
                x-display: hidden
                type: number
                description: Size of the file on disk
              mimetype:
                x-display: hidden
                type: string
                description: Mime type of the file
              updatedAt:
                x-display: hidden
                type: string
                description: Date of the last update for this attachment
                format: date-time
              url:
                x-display: hidden
                readOnly: true
                type: string
                title: URL
    catalog:
      title: Catalog
      description: A catalog configuration to publish metadatas from datasets, services and applications.
      type: object
      additionalProperties: false
      required:
        - url
        - type
      properties:
        id:
          type: string
          description: Identifier of the configuration for a catalog
        href:
          type: string
          description: Readonly field. The URL where this resource can be fetched
        page:
          type: string
          description: Readonly field. The URL where this resource can be viewed in the UI
        title:
          type: string
          description: Short title of the configuration for a catalog
        description:
          type: string
          description: Detailed description of the configuration for a catalog
        createdBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        updatedBy:
          type: object
          additionalProperties: false
          required:
            - id
          properties:
            id:
              type: string
            name:
              type: string
        createdAt:
          type: string
          description: Creation date of this configuration for a catalog
          format: date-time
        updatedAt:
          type: string
          description: Date of the last update for this configuration for a catalog
          format: date-time
        owner:
          type: object
          additionalProperties: false
          required:
            - type
            - id
          properties:
            type:
              type: string
              enum:
                - user
                - organization
              description: If the owner is a user or an organization
            id:
              type: string
              description: The unique id of the user or organization
            name:
              type: string
              description: The display name of the user or organization
            role:
              type: string
              deprecated: true
              description: DEPRECATED - If this is set and owner is an organization, this restrict ownership to users of this organization having this role or admin role
            department:
              type: string
              description: If this is set and owner is an organization, this gives ownership to users of this organization that belong to this department
            departmentName:
              type: string
              description: The display name of the department
        url:
          type: string
          description: The base url of the catalog
        type:
          type: string
          description: The type of catalog
          enum:
            - data-fair
            - dcat
            - geonetwork
            - mydatacatalogue
            - udata
            - arcgis
        logo:
          type: string
          description: A link to the logo of the catalog
        apiKey:
          type: string
          description: The value of the required api key
        organization:
          type: object
          description: Leave empty to write in a personal space, otherwise use the id of an organization that you have the right to write into.
          properties:
            id:
              type: string
            name:
              type: string
        datasetUrlTemplate:
          type: string
        applicationUrlTemplate:
          type: string
        dataFairBaseUrl:
          type: string
        extras:
          type: object
          description: An object for extra content from client services of data-fair
        autoUpdate:
          type: object
          properties:
            active:
              type: boolean
              default: false
            nextUpdate:
              type: string
              format: date-time
            lastUpdate:
              type: object
              properties:
                date:
                  type: string
                  format: date-time
        permissions:
          type: array
          items:
            type: object
            description: Permission to do the operations (identified by their id). If type and id are not set, then the operation is set to public. roles array is used only with type organization
            additionalProperties: false
            anyOf:
              - required:
                  - operations
              - required:
                  - classes
            properties:
              type:
                type: string
                enum:
                  - user
                  - organization
                description: If the entity is a user or an organization
              id:
                type: string
                description: Identifier of the entity
              name:
                type: string
                description: Name of the entity
              email:
                type: string
                description: Email of the user
              department:
                type: string
                description: Identifier of the department or "*" for any department (same as empty) or "-" for no department
              departmentName:
                type: string
                description: Name of the department
              roles:
                type: array
                items:
                  type: string
                  description: Role name
              operations:
                type: array
                items:
                  type: string
                  description: API operation that can be used
              classes:
                type: array
                items:
                  type: string
                  description: API permission classes that can be used
    catalogPatch:
      title: Catalog patch
      type: object
      additionalProperties: false
      properties:
        apiKey:
          type: string
          description: The value of the required api key
        description:
          type: string
          description: Detailed description of the configuration for a catalog
        title:
          type: string
          description: Short title of the configuration for a catalog
        organization:
          type: object
          description: Leave empty to write in a personal space, otherwise use the id of an organization that you have the right to write into.
          properties:
            id:
              type: string
            name:
              type: string
        extras:
          type: object
          description: An object for extra content from client services of data-fair
        datasetUrlTemplate:
          type: string
        applicationUrlTemplate:
          type: string
        dataFairBaseUrl:
          type: string
        autoUpdate:
          type: object
          properties:
            active:
              type: boolean
              default: false
            nextUpdate:
              type: string
              format: date-time
            lastUpdate:
              type: object
              properties:
                date:
                  type: string
                  format: date-time
  securitySchemes:
    apiKey:
      type: apiKey
      in: header
      name: x-apiKey
    sdCookie:
      type: apiKey
      in: cookie
      name: id_token
security:
  - apiKey: []
  - sdCookie: []
paths:
  /ping:
    get:
      summary: Obtenir l'état de santé du service.
      operationId: ping
      tags:
        - Administration
      x-operationType: http://schema.org/CheckAction
      responses:
        '200':
          description: Service ok
        '500':
          description: Service ko
  /api-docs.json:
    get:
      summary: Obtenir la documentation OpenAPI
      description: Accéder à cette documentation au format OpenAPI v3.
      operationId: getApiDoc
      tags:
        - Administration
      responses:
        '200':
          description: La documentation de l'API
          content:
            application/json:
              schema:
                type: object
  /vocabulary:
    get:
      summary: Lister les concepts
      description: Récupérer la liste des concepts utilisables pour annoter la donnée sur ce service.
      operationId: getVocabulary
      tags:
        - Administration
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    title:
                      type: string
                    description:
                      type: string
                    identifiers:
                      type: array
                      items:
                        type: string
                    type:
                      type: string
                    tag:
                      type: string
  /datasets:
    get:
      summary: Lister les jeux de données
      description: Récupérer la liste des jeux de données.
      operationId: listDatasets
      tags:
        - Jeux de données
      parameters:
        - in: query
          name: q
          description: Recherche textuelle
          required: false
          schema:
            title: Recherche textuelle
            type: string
        - in: query
          name: mine
          description: Voir uniquement les ressources de mon compte actif
          required: false
          schema:
            type: boolean
            default: true
        - in: query
          name: owner
          description: Restreindre par propriétaire
          required: false
          schema:
            title: Restreindre par propriétaire
            type: array
            items:
              type: string
              examples:
                - organization:myorg
                - user:myuser
          style: form
          explode: false
        - in: query
          name: raw
          description: Ne pas inclure les champs calculés
          required: false
          schema:
            title: Ne pas inclure les champs calculés
            type: boolean
        - in: query
          name: select
          description: La liste des colonnes à retourner
          required: false
          schema:
            title: La liste des colonnes à retourner
            type: array
            items:
              type: string
              enum:
                - id
                - slug
                - href
                - page
                - title
                - description
                - image
                - spatial
                - temporal
                - keywords
                - frequency
                - file
                - originalFile
                - attachments
                - remoteFile
                - storage
                - createdAt
                - createdBy
                - updatedAt
                - updatedBy
                - dataUpdatedAt
                - dataUpdatedBy
                - finalizedAt
                - owner
                - status
                - errorStatus
                - errorRetry
                - primaryKey
                - schema
                - count
                - bbox
                - timePeriod
                - timeZone
                - projection
                - license
                - origin
                - extensions
                - masterData
                - publications
                - publicationSites
                - requestedPublicationSites
                - hasFiles
                - attachmentsAsImage
                - isVirtual
                - virtual
                - isRest
                - rest
                - isMetaOnly
                - topics
                - thumbnails
                - exports
                - extras
                - analysis
                - permissions
                - previews
                - readApiKey
                - esWarning
                - draft
          style: form
          explode: false
        - in: query
          name: ids
          description: Restreindre sur les identifiants
          required: false
          schema:
            title: Restreindre sur les identifiants
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: filename
          description: Restreindre sur les noms de fichier
          required: false
          schema:
            title: Restreindre sur les noms de fichier
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: concepts
          description: Restreindre sur les concepts annotés
          required: false
          schema:
            title: Restreindre sur les concepts annotés
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: field-type
          description: Restreindre sur les types de colonnes
          required: false
          schema:
            title: Restreindre sur les types de colonnes
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: field-format
          description: Restreindre sur les formats des colonnes textes
          required: false
          schema:
            title: Restreindre sur les formats des colonnes textes
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: file
          description: Restreindre aux jeux avec fichiers attachés
          required: false
          schema:
            title: Restreindre aux jeux avec fichiers attachés
            type: boolean
        - in: query
          name: bbox
          description: Restreindre aux jeux géographiques
          required: false
          schema:
            title: Restreindre aux jeux géographiques
            type: boolean
        - in: query
          name: queryable
          description: Restreindre aux jeux requêtables et utilisables dans des applications
          required: false
          schema:
            title: Restreindre aux jeux requêtables et utilisables dans des applications
            type: boolean
        - in: query
          name: page
          description: Numéro de page
          required: false
          schema:
            title: Numéro de page
            type: integer
            default: 1
            min: 1
        - in: query
          name: size
          description: Taille de la page
          required: false
          schema:
            title: Taille de la page
            type: integer
            default: 10
            min: 1
        - in: query
          name: visibility
          description: |-
            Filtrer sur la visibilité de la ressource.
            "public" = voir les ressources publiques
            "private" = voir les ressources privées (celles sur lesquelles aucune permission particulière n'a été appliquée)
            "protected" = voir les ressources protégées (celles sur lesquelles une permission a été donnée à des utilisateurs).
          required: false
          schema:
            title: Filtrer sur la visibilité de la ressource.
            type: array
            items:
              type: string
              oneOf:
                - const: public
                  title: Ressources publiques
                - const: private
                  title: Ressources privées
                - const: protected
                  title: Ressources protégées
          style: form
          explode: false
      responses:
        '200':
          description: Liste des jeux de données que l'utilisateur est autorisé à voir.
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number
                    description: Nombre total de jeux de données
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/dataset'
    post:
      summary: Créer un jeu de données
      operationId: postDataset
      tags:
        - Jeux de données
      requestBody:
        description: Fichier à charger et autres informations.
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/datasetPost'
      responses:
        '200':
          description: Métadonnées sur le dataset créé.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dataset'
  /datasets/{id}:
    parameters:
      - in: path
        name: id
        description: Identifiant
        required: true
        schema:
          title: Identifiant
          type: string
    get:
      summary: Lire les informations d'un jeu de données
      description: Récupérer les informations d'un jeu de données.
      operationId: getDataset
      tags:
        - Jeux de données
      responses:
        '200':
          description: Informations d'un jeu de données.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dataset'
    put:
      summary: Créer ou mettre à jour un jeu de données
      description: Créer ou mettre à jour un jeu de données.
      operationId: putDataset
      tags:
        - Jeux de données
      requestBody:
        description: Fichier à charger et autres informations.
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/datasetPost'
      responses:
        '200':
          description: Jeu de données modifié.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dataset'
        '201':
          description: Jeu de données créé.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dataset'
    patch:
      summary: Modifier un jeu de données
      description: Modifier seulement certaines informations d'un jeu de données.
      operationId: patchDataset
      tags:
        - Jeux de données
      requestBody:
        description: Informations à modifier.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/datasetPatch'
      responses:
        '200':
          description: Informations du jeu de données modifié.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dataset'
    delete:
      summary: Supprimer un jeu de données
      operationId: deleteDataset
      tags:
        - Jeux de données
      responses:
        '204':
          description: Jeu de données supprimé.
  /applications:
    get:
      summary: Lister les applications
      description: Récupérer la liste des applications.
      operationId: listApplications
      tags:
        - Applications
      parameters:
        - in: query
          name: q
          description: Recherche textuelle
          required: false
          schema:
            title: Recherche textuelle
            type: string
        - in: query
          name: mine
          description: Voir uniquement les ressources de mon compte actif
          required: false
          schema:
            type: boolean
            default: true
        - in: query
          name: owner
          description: Restreindre par propriétaire
          required: false
          schema:
            title: Restreindre par propriétaire
            type: array
            items:
              type: string
              examples:
                - organization:myorg
                - user:myuser
          style: form
          explode: false
        - in: query
          name: raw
          description: Ne pas inclure les champs calculés
          required: false
          schema:
            title: Ne pas inclure les champs calculés
            type: boolean
        - in: query
          name: select
          description: La liste des colonnes à retourner
          required: false
          schema:
            title: La liste des colonnes à retourner
            type: array
            items:
              type: string
              enum:
                - id
                - slug
                - href
                - page
                - title
                - description
                - image
                - applicationName
                - createdBy
                - updatedBy
                - createdAt
                - updatedAt
                - lastConfigured
                - status
                - owner
                - configuration
                - configurationDraft
                - url
                - urlDraft
                - baseApp
                - baseAppDraft
                - errorMessage
                - errorMessageDraft
                - publications
                - publicationSites
                - requestedPublicationSites
                - topics
                - extras
                - preferLargeDisplay
                - attachments
                - permissions
          style: form
          explode: false
        - in: query
          name: ids
          description: Restreindre sur les identifiants
          required: false
          schema:
            title: Restreindre sur les identifiants
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: dataset
          description: Restreindre sur les jeux de données utilisés
          required: false
          schema:
            title: Restreindre sur les jeux de données utilisés
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: service
          description: Restreindre sur les services distants utilisés
          required: false
          schema:
            title: Restreindre sur les services distants utilisés
            type: array
            items:
              type: string
          style: form
          explode: false
        - in: query
          name: page
          description: Numéro de page
          required: false
          schema:
            title: Numéro de page
            type: integer
            default: 1
            min: 1
        - in: query
          name: size
          description: Taille de la page
          required: false
          schema:
            title: Taille de la page
            type: integer
            default: 10
            min: 1
        - in: query
          name: visibility
          description: |-
            Filtrer sur la visibilité de la ressource.
            "public" = voir les ressources publiques
            "private" = voir les ressources privées (celles sur lesquelles aucune permission particulière n'a été appliquée)
            "protected" = voir les ressources protégées (celles sur lesquelles une permission a été donnée à des utilisateurs).
          required: false
          schema:
            title: Filtrer sur la visibilité de la ressource.
            type: array
            items:
              type: string
              oneOf:
                - const: public
                  title: Ressources publiques
                - const: private
                  title: Ressources privées
                - const: protected
                  title: Ressources protégées
          style: form
          explode: false
      responses:
        '200':
          description: Liste des applications que l'utilisateur est autorisé à voir.
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number
                    description: Nombre total d'applications
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/application'
    post:
      summary: Configurer une application
      operationId: postApplication
      tags:
        - Applications
      requestBody:
        description: Les informations de configuration de l'application.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/application'
      responses:
        '201':
          description: Les informations de configuration de l'application.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/application'
  /applications/{id}:
    parameters:
      - in: path
        name: id
        description: Identifiant
        required: true
        schema:
          title: Identifiant
          type: string
    get:
      summary: Lire les informations d'une application
      description: Récupérer les informations d'une application.
      operationId: getApplication
      tags:
        - Applications
      responses:
        '200':
          description: Informations d'une application.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/application'
    put:
      summary: Créer ou mettre à jour une application
      description: Créer ou mettre à jour une application.
      operationId: putApplication
      tags:
        - Applications
      requestBody:
        description: Informations de l'application.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/application'
      responses:
        '200':
          description: Application modifiée.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/application'
        '201':
          description: Application créée.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/application'
    patch:
      summary: Modifier une informations
      description: Modifier seulement certaines informations d'une application.
      operationId: patchApplication
      tags:
        - Applications
      requestBody:
        description: Informations à modifier.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/applicationPatch'
      responses:
        '200':
          description: Informations de l'application modifiée.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/application'
    delete:
      summary: Supprimer une application
      operationId: deleteApplication
      tags:
        - Applications
      responses:
        '204':
          description: Application supprimée.
externalDocs:
  description: Documentation sur Github
  url: https://data-fair.github.io/master/
